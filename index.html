<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zeeshan Quiz App - Ultimate Math Challenge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --secondary-dark: #db2777;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1f2937;
            --light: #f3f4f6;
            --white: #ffffff;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --pink-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body.dark-mode {
            --light: #374151;
            --white: #1f2937;
            --dark: #f3f4f6;
        }

        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            text-align: center;
            font-weight: bold;
            color: var(--primary);
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float 15s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(100px); opacity: 0; }
        }

        .quiz-container {
            background: var(--white);
            border-radius: 20px;
            box-shadow: var(--shadow);
            max-width: 900px;
            width: 100%;
            padding: 30px;
            margin-top: 50px;
            position: relative;
            z-index: 1;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--light);
        }

        .logo {
            font-size: 2.5em;
            font-weight: bold;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .user-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .user-stat {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: var(--light);
            border-radius: 10px;
            transition: var(--transition);
        }

        .user-stat:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .coins {
            color: #f59e0b;
            font-weight: bold;
        }

        .points {
            color: var(--primary);
            font-weight: bold;
        }

        .timer-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--light);
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            transition: var(--transition);
        }

        .timer.warning {
            background: var(--warning);
            color: white;
            animation: shake 0.5s;
        }

        .timer.danger {
            background: var(--danger);
            color: white;
            animation: shake 0.5s infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .progress-bar {
            flex: 1;
            height: 10px;
            background: var(--light);
            border-radius: 50px;
            overflow: hidden;
            min-width: 200px;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient);
            transition: width 0.3s ease;
            border-radius: 50px;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: var(--light);
            border-radius: 10px;
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
            font-size: 1.2em;
        }

        .category-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .category-arithmetic { background: #fef3c7; color: #92400e; }
        .category-geometry { background: #dbeafe; color: #1e40af; }
        .category-algebra { background: #fce7f3; color: #9f1239; }
        .category-logic { background: #d1fae5; color: #065f46; }

        .question-container {
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .question-number {
            font-size: 0.9em;
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 1.3em;
            margin-bottom: 25px;
            line-height: 1.6;
            color: var(--dark);
        }

        .options-container {
            display: grid;
            gap: 15px;
        }

        .option {
            background: var(--light);
            padding: 15px 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .option.selected {
            background: var(--primary);
            color: white;
        }

        .option.correct {
            background: var(--success);
            color: white;
            animation: correctPulse 0.5s;
        }

        .option.incorrect {
            background: var(--danger);
            color: white;
            animation: shake 0.5s;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .option-letter {
            width: 35px;
            height: 35px;
            background: var(--white);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .option.selected .option-letter {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            transform-style: preserve-3d;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: inherit;
            background: inherit;
            transform: translateZ(-10px);
            filter: brightness(0.8);
            z-index: -1;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            right: 5px;
            bottom: 5px;
            border-radius: inherit;
            background: inherit;
            filter: brightness(1.2);
            z-index: -1;
        }

        .btn:hover {
            transform: translateY(-5px) rotateX(10deg);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(-2px) rotateX(5deg);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--light);
            color: var(--dark);
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        .btn-pink {
            background: var(--pink-gradient);
            color: white;
        }

        .btn-pink:hover {
            background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .controls-panel {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 100;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--white);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .control-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideIn 0.3s;
        }

        .result-container {
            text-align: center;
        }

        .result-score {
            font-size: 4em;
            font-weight: bold;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .result-stat {
            padding: 15px;
            background: var(--light);
            border-radius: 10px;
            transition: var(--transition);
        }

        .result-stat:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .achievement-badge {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #333;
            border-radius: 50px;
            font-weight: bold;
            margin: 5px;
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--primary);
            position: absolute;
            animation: confetti-fall 3s linear;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .hint-box {
            background: #fef3c7;
            border-left: 4px solid var(--warning);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .hint-box.active {
            display: block;
            animation: slideIn 0.3s;
        }

        .bookmark-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 1.5em;
            color: #ccc;
            transition: var(--transition);
        }

        .bookmark-icon.active {
            color: var(--warning);
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .leaderboard-table th,
        .leaderboard-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--light);
        }

        .leaderboard-table th {
            background: var(--light);
            font-weight: bold;
        }

        .leaderboard-table tr:hover {
            background: var(--light);
        }

        .settings-grid {
            display: grid;
            gap: 20px;
            margin-top: 20px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--light);
            border-radius: 10px;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
            background: #ccc;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .toggle-switch.active {
            background: var(--primary);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 26px;
            height: 26px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: var(--transition);
        }

        .toggle-switch.active::after {
            left: 32px;
        }

        .keyboard-shortcuts {
            display: grid;
            gap: 10px;
            margin-top: 20px;
        }

        .shortcut-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background: var(--light);
            border-radius: 8px;
        }

        .key {
            background: var(--dark);
            color: var(--white);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: monospace;
        }

        .mini-games {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .mini-game {
            background: var(--light);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .mini-game:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .mini-game-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .mini-game-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .mini-game-reward {
            color: var(--warning);
            font-weight: bold;
        }

        .game-container {
            display: none;
            padding: 20px;
            background: var(--light);
            border-radius: 15px;
            margin-top: 20px;
        }

        .game-container.active {
            display: block;
        }

        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .memory-card {
            aspect-ratio: 1;
            background: var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
            transition: var(--transition);
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            background: var(--white);
            border: 2px solid var(--primary);
        }

        .math-puzzle {
            text-align: center;
            padding: 20px;
        }

        .puzzle-question {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .puzzle-input {
            padding: 10px;
            font-size: 1.2em;
            border-radius: 10px;
            border: 2px solid var(--primary);
            width: 100px;
            text-align: center;
        }

        .reaction-game {
            text-align: center;
            padding: 20px;
        }

        .reaction-target {
            width: 100px;
            height: 100px;
            background: var(--danger);
            border-radius: 50%;
            margin: 20px auto;
            display: none;
            cursor: pointer;
        }

        .reaction-target.active {
            display: block;
            animation: pulse 1s infinite;
        }

        @media (max-width: 768px) {
            .controls-panel {
                bottom: 20px;
                right: 50%;
                top: auto;
                transform: translateX(50%);
                flex-direction: row;
            }

            .quiz-container {
                padding: 20px;
            }

            .logo {
                font-size: 2em;
            }

            .question-text {
                font-size: 1.1em;
            }

            .navigation-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        .loading-spinner {
            border: 4px solid var(--light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .streak-fire {
            color: var(--danger);
            animation: fire 1s infinite;
        }

        @keyframes fire {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .difficulty-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .difficulty-btn {
            padding: 8px 20px;
            border: 2px solid var(--primary);
            background: transparent;
            color: var(--primary);
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .difficulty-btn.active {
            background: var(--primary);
            color: white;
        }

        .performance-chart {
            width: 100%;
            height: 200px;
            background: var(--light);
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 30px;
            background: var(--gradient);
            border-radius: 5px 5px 0 0;
            transition: height 0.5s ease;
        }

        .floating-emoji {
            position: fixed;
            font-size: 2em;
            animation: float-up 3s ease-out forwards;
            pointer-events: none;
            z-index: 9999;
        }

        @keyframes float-up {
            to {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .confirmation-dialog {
            background: var(--white);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .confirmation-dialog h3 {
            margin-bottom: 15px;
            color: var(--primary);
        }

        .confirmation-dialog p {
            margin-bottom: 20px;
            color: var(--dark);
        }

        .confirmation-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .shop-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .shop-item {
            background: var(--light);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: var(--transition);
        }

        .shop-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .shop-item-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .shop-item-price {
            color: var(--warning);
            font-weight: bold;
            margin-bottom: 10px;
        }

        .shop-item-btn {
            background: var(--pink-gradient);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .shop-item-btn:hover {
            transform: scale(1.05);
        }

        .shop-item-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .welcome-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            padding: 20px;
        }

        .welcome-message {
            font-size: 2em;
            font-weight: bold;
            color: white;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .welcome-next-btn {
            padding: 15px 40px;
            font-size: 1.2em;
            background: var(--pink-gradient);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            transform-style: preserve-3d;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .welcome-next-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: inherit;
            background: inherit;
            transform: translateZ(-10px);
            filter: brightness(0.8);
            z-index: -1;
        }

        .welcome-next-btn::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            right: 5px;
            bottom: 5px;
            border-radius: inherit;
            background: inherit;
            filter: brightness(1.2);
            z-index: -1;
        }

        .welcome-next-btn:hover {
            transform: translateY(-5px) rotateX(10deg);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .mini-game-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .mini-game-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .mini-game-title {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary);
        }

        .back-btn {
            padding: 8px 15px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .back-btn:hover {
            background: var(--secondary-dark);
        }

        .mini-game-content {
            margin-top: 80px;
            width: 100%;
            max-width: 800px;
        }

        .tap-box-game {
            position: relative;
            height: 400px;
            background: var(--light);
            border-radius: 15px;
            overflow: hidden;
        }

        .tap-box {
            position: absolute;
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .tap-box:hover {
            transform: scale(1.1);
        }

        .tap-box.clicked {
            background: var(--success);
            animation: tapEffect 0.3s;
        }

        @keyframes tapEffect {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .quick-math-game {
            text-align: center;
        }

        .math-question {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .math-input {
            padding: 10px;
            font-size: 1.5em;
            border-radius: 10px;
            border: 2px solid var(--primary);
            width: 150px;
            text-align: center;
            margin-bottom: 20px;
        }

        .math-timer {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: var(--danger);
        }

        .number-guess-game {
            text-align: center;
        }

        .guess-input {
            padding: 10px;
            font-size: 1.2em;
            border-radius: 10px;
            border: 2px solid var(--primary);
            width: 150px;
            text-align: center;
            margin-bottom: 20px;
        }

        .guess-result {
            font-size: 1.2em;
            margin-bottom: 20px;
            min-height: 30px;
        }

        .whack-button-game {
            position: relative;
            height: 400px;
            background: var(--light);
            border-radius: 15px;
            overflow: hidden;
        }

        .whack-button {
            position: absolute;
            width: 80px;
            height: 80px;
            background: var(--danger);
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
        }

        .whack-button:hover {
            transform: scale(1.1);
        }

        .whack-button.correct {
            background: var(--success);
        }

        .whack-button.wrong {
            background: var(--danger);
        }

        .spin-wheel-game {
            text-align: center;
        }

        .wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto 20px;
        }

        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                var(--primary) 0% 25%,
                var(--secondary) 25% 50%,
                var(--success) 50% 75%,
                var(--warning) 75% 100%
            );
            position: relative;
            transition: transform 3s cubic-bezier(0.17, 0.67, 0.12, 0.99);
        }

        .wheel-pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 40px solid var(--danger);
            z-index: 10;
        }

        .wheel-result {
            font-size: 1.5em;
            margin-top: 20px;
            min-height: 40px;
        }

        .true-false-game {
            text-align: center;
        }

        .true-false-question {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .true-false-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .true-false-btn {
            padding: 15px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .true-btn {
            background: var(--success);
            color: white;
        }

        .false-btn {
            background: var(--danger);
            color: white;
        }

        .true-false-score {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .puzzle-slide-game {
            text-align: center;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
            width: 300px;
            height: 300px;
            margin: 0 auto 20px;
            background: var(--light);
            border-radius: 10px;
            padding: 10px;
        }

        .puzzle-tile {
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }

        .puzzle-tile:hover {
            transform: scale(1.05);
        }

        .puzzle-tile.empty {
            background: transparent;
            cursor: default;
        }

        .puzzle-tile.empty:hover {
            transform: none;
        }

        .color-match-game {
            text-align: center;
        }

        .color-word {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .color-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .color-btn {
            width: 100px;
            height: 50px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: bold;
            color: white;
        }

        .color-btn:hover {
            transform: scale(1.1);
        }

        .game-score {
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        .game-timer {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: var(--danger);
        }

        .game-over {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .records-container {
            display: grid;
            gap: 20px;
        }

        .game-record {
            background: var(--light);
            border-radius: 15px;
            padding: 20px;
        }

        .game-record-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .record-list {
            list-style: none;
        }

        .record-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #e5e7eb;
        }

        .record-item:last-child {
            border-bottom: none;
        }

        .record-rank {
            font-weight: bold;
            color: var(--warning);
        }

        .record-score {
            font-weight: bold;
        }

        .record-date {
            color: #6b7280;
            font-size: 0.9em;
        }

        .tax-notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--danger);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            animation: slideInUp 0.5s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translate(-50%, 100px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        .cheat-indicator {
            position: fixed;
            top: 70px;
            right: 20px;
            background: var(--warning);
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
        }

        .cheat-indicator.active {
            display: block;
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-message">This app is made by Muhammad Zeeshan</div>
        <button class="welcome-next-btn" onclick="showMainApp()">Next</button>
    </div>

    <!-- Main App -->
    <div class="app-header" id="appHeader" style="display: none;">
        This app is made by Muhammad Zeeshan
    </div>

    <div class="controls-panel" id="controlsPanel" style="display: none;">
        <button class="control-btn" onclick="toggleDarkMode()" title="Dark Mode">
            <i class="fas fa-moon"></i>
        </button>
        <button class="control-btn" onclick="toggleSound()" title="Sound">
            <i class="fas fa-volume-up" id="soundIcon"></i>
        </button>
        <button class="control-btn" onclick="showLeaderboard()" title="Leaderboard">
            <i class="fas fa-trophy"></i>
        </button>
        <button class="control-btn" onclick="showSettings()" title="Settings">
            <i class="fas fa-cog"></i>
        </button>
        <button class="control-btn" onclick="showHelp()" title="Help">
            <i class="fas fa-question-circle"></i>
        </button>
        <button class="control-btn" onclick="showShop()" title="Shop">
            <i class="fas fa-shopping-cart"></i>
        </button>
        <button class="control-btn" onclick="showMiniGamesRecords()" title="Mini Games Records">
            <i class="fas fa-medal"></i>
        </button>
    </div>

    <div class="quiz-container" id="mainQuizContainer" style="display: none;">
        <div class="header">
            <div class="logo">ðŸŽ¯ Zeeshan Quiz App</div>
            <p style="color: #666;">Ultimate Math Challenge - Test Your Skills!</p>
        </div>

        <div id="startScreen">
            <div class="user-stats">
                <div class="user-stat">
                    <i class="fas fa-coins coins"></i>
                    <span>Coins: <span id="userCoins">100</span></span>
                </div>
                <div class="user-stat">
                    <i class="fas fa-star points"></i>
                    <span>Points: <span id="userPoints">0</span></span>
                </div>
                <div class="user-stat">
                    <i class="fas fa-fire stat-icon streak-fire"></i>
                    <span>Streak: <span id="streakCount">0</span></span>
                </div>
            </div>

            <div class="difficulty-selector">
                <button class="difficulty-btn active" onclick="setDifficulty('easy')">Easy</button>
                <button class="difficulty-btn" onclick="setDifficulty('medium')">Medium</button>
                <button class="difficulty-btn" onclick="setDifficulty('hard')">Hard</button>
            </div>
            
            <div style="text-align: center; margin: 30px 0;">
                <h2 style="margin-bottom: 20px;">Quiz Categories</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div class="stat-item">
                        <i class="fas fa-calculator stat-icon"></i>
                        <div>
                            <div>Basic Arithmetic</div>
                            <small>50 questions</small>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-shapes stat-icon"></i>
                        <div>
                            <div>Geometry</div>
                            <small>50 questions</small>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-superscript stat-icon"></i>
                        <div>
                            <div>Algebra</div>
                            <small>50 questions</small>
                        </div>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-puzzle-piece stat-icon"></i>
                        <div>
                            <div>Logic & Puzzles</div>
                            <small>50 questions</small>
                        </div>
                    </div>
                </div>
            </div>

            <h3 style="text-align: center; margin: 20px 0;">Top 10 Mini Games (Short & Enjoyable)</h3>
            <div class="mini-games">
                <div class="mini-game" onclick="openMiniGame('tapBox')">
                    <div class="mini-game-icon">ðŸ“¦</div>
                    <div class="mini-game-title">Tap the Box</div>
                    <div class="mini-game-reward">+20 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('memoryMatch')">
                    <div class="mini-game-icon">ðŸ§ </div>
                    <div class="mini-game-title">Memory Match</div>
                    <div class="mini-game-reward">+25 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('quickMath')">
                    <div class="mini-game-icon">ðŸ”¢</div>
                    <div class="mini-game-title">Quick Math Rush</div>
                    <div class="mini-game-reward">+30 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('reactionTest')">
                    <div class="mini-game-icon">âš¡</div>
                    <div class="mini-game-title">Reaction Test</div>
                    <div class="mini-game-reward">+15 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('numberGuess')">
                    <div class="mini-game-icon">ðŸŽ²</div>
                    <div class="mini-game-title">Number Guessing</div>
                    <div class="mini-game-reward">+20 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('whackButton')">
                    <div class="mini-game-icon">ðŸ”¨</div>
                    <div class="mini-game-title">Whack-a-Button</div>
                    <div class="mini-game-reward">+25 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('spinWheel')">
                    <div class="mini-game-icon">ðŸŽ¡</div>
                    <div class="mini-game-title">Spin the Wheel</div>
                    <div class="mini-game-reward">Random</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('trueFalse')">
                    <div class="mini-game-icon">âœ…</div>
                    <div class="mini-game-title">True or False</div>
                    <div class="mini-game-reward">+20 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('puzzleSlide')">
                    <div class="mini-game-icon">ðŸ§©</div>
                    <div class="mini-game-title">Puzzle Slide</div>
                    <div class="mini-game-reward">+30 Coins</div>
                </div>
                <div class="mini-game" onclick="openMiniGame('colorMatch')">
                    <div class="mini-game-icon">ðŸŽ¨</div>
                    <div class="mini-game-title">Color Match</div>
                    <div class="mini-game-reward">+15 Coins</div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn btn-primary" style="font-size: 1.2em; padding: 15px 40px;" onclick="startQuiz()">
                    <i class="fas fa-play"></i> Start Quiz
                </button>
            </div>

            <div class="stats-bar" style="margin-top: 30px;">
                <div class="stat-item">
                    <i class="fas fa-medal stat-icon"></i>
                    <span>High Score: <span id="highScore">0</span>%</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-chart-line stat-icon"></i>
                    <span>Total Quizzes: <span id="totalQuizzes">0</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-clock stat-icon"></i>
                    <span>Best Time: <span id="bestTime">--:--</span></span>
                </div>
            </div>
        </div>

        <div id="quizScreen" style="display: none;">
            <div class="timer-container">
                <div class="timer" id="timer">
                    <i class="fas fa-clock"></i>
                    <span id="timeDisplay">10:00</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                </div>
            </div>

            <div class="stats-bar">
                <div class="stat-item">
                    <i class="fas fa-question-circle stat-icon"></i>
                    <span>Question <span id="currentQuestion">1</span> / <span id="totalQuestions">10</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-check-circle stat-icon" style="color: var(--success);"></i>
                    <span>Correct: <span id="correctCount">0</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-times-circle stat-icon" style="color: var(--danger);"></i>
                    <span>Wrong: <span id="wrongCount">0</span></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-star stat-icon" style="color: var(--warning);"></i>
                    <span>Score: <span id="scoreDisplay">0</span></span>
                </div>
            </div>

            <div class="question-container">
                <i class="fas fa-bookmark bookmark-icon" id="bookmarkIcon" onclick="toggleBookmark()"></i>
                <div class="category-badge" id="categoryBadge">Basic Arithmetic</div>
                <div class="question-number">Question <span id="questionNumber">1</span></div>
                <div class="question-text" id="questionText">Loading...</div>
                
                <div class="hint-box" id="hintBox">
                    <i class="fas fa-lightbulb"></i> <strong>Hint:</strong> <span id="hintText"></span>
                </div>

                <div class="options-container" id="optionsContainer">
                    <!-- Options will be dynamically added here -->
                </div>
            </div>

            <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="previousQuestion()" id="prevBtn">
                    <i class="fas fa-arrow-left"></i> Previous
                </button>
                
                <button class="btn btn-warning" onclick="showHint()">
                    <i class="fas fa-lightbulb"></i> Hint
                </button>

                <button class="btn btn-secondary" onclick="skipQuestion()">
                    <i class="fas fa-forward"></i> Skip
                </button>

                <button class="btn btn-primary" onclick="confirmFinish()" id="nextBtn">
                    Finish <i class="fas fa-flag-checkered"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Mini Game Screen -->
    <div class="mini-game-screen" id="miniGameScreen">
        <div class="mini-game-header">
            <button class="back-btn" onclick="backToMainApp()">
                <i class="fas fa-arrow-left"></i> Back
            </button>
            <div class="mini-game-title" id="miniGameTitle">Mini Game</div>
            <div class="user-stat">
                <i class="fas fa-coins coins"></i>
                <span>Coins: <span id="gameCoins">100</span></span>
            </div>
        </div>
        <div class="mini-game-content" id="miniGameContent">
            <!-- Mini game content will be loaded here -->
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmationModal">
        <div class="confirmation-dialog">
            <h3>Are you sure?</h3>
            <p>Do you want to finish the quiz and see your results?</p>
            <div class="confirmation-buttons">
                <button class="btn btn-secondary" onclick="cancelFinish()">Cancel</button>
                <button class="btn btn-primary" onclick="finishQuiz()">Yes, Finish</button>
            </div>
        </div>
    </div>

    <!-- Result Modal -->
    <div class="modal" id="resultModal">
        <div class="modal-content">
            <div class="result-container">
                <h2>ðŸŽ‰ Quiz Completed!</h2>
                <div class="result-score" id="finalScore">0%</div>
                
                <div class="result-stats">
                    <div class="result-stat">
                        <i class="fas fa-check-circle" style="color: var(--success); font-size: 2em;"></i>
                        <h3 id="finalCorrect">0</h3>
                        <p>Correct Answers</p>
                    </div>
                    <div class="result-stat">
                        <i class="fas fa-times-circle" style="color: var(--danger); font-size: 2em;"></i>
                        <h3 id="finalWrong">0</h3>
                        <p>Wrong Answers</p>
                    </div>
                    <div class="result-stat">
                        <i class="fas fa-clock" style="color: var(--primary); font-size: 2em;"></i>
                        <h3 id="timeTaken">0:00</h3>
                        <p>Time Taken</p>
                    </div>
                    <div class="result-stat">
                        <i class="fas fa-coins" style="color: var(--warning); font-size: 2em;"></i>
                        <h3 id="coinsEarned">0</h3>
                        <p>Coins Earned</p>
                    </div>
                </div>

                <div id="achievements" style="margin: 20px 0;">
                    <!-- Achievements will be added here -->
                </div>

                <div class="performance-chart" id="performanceChart">
                    <!-- Performance chart will be drawn here -->
                </div>

                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-pink" onclick="showSolutions()">
                        <i class="fas fa-book"></i> See Answer
                    </button>
                    <button class="btn btn-pink" onclick="restartQuiz()">
                        <i class="fas fa-redo"></i> Restart
                    </button>
                    <button class="btn btn-pink" onclick="shareResults()">
                        <i class="fas fa-share"></i> Share
                    </button>
                    <button class="btn btn-pink" onclick="printResults()">
                        <i class="fas fa-print"></i> Print
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Solutions Modal -->
    <div class="modal" id="solutionsModal">
        <div class="modal-content">
            <h2>ðŸ“š Solutions</h2>
            <div id="solutionsList">
                <!-- Solutions will be added here -->
            </div>
            <button class="btn btn-primary" onclick="closeSolutions()">Close</button>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div class="modal" id="leaderboardModal">
        <div class="modal-content">
            <h2>ðŸ† Leaderboard</h2>
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Name</th>
                        <th>Score</th>
                        <th>Time</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody id="leaderboardBody">
                    <!-- Leaderboard data will be added here -->
                </tbody>
            </table>
            <button class="btn btn-primary" onclick="closeLeaderboard()">Close</button>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <h2>âš™ï¸ Settings</h2>
            <div class="settings-grid">
                <div class="setting-item">
                    <span>Sound Effects</span>
                    <div class="toggle-switch active" onclick="toggleSoundSetting(this)"></div>
                </div>
                <div class="setting-item">
                    <span>Animations</span>
                    <div class="toggle-switch active" onclick="toggleAnimationSetting(this)"></div>
                </div>
                <div class="setting-item">
                    <span>Auto Next Question</span>
                    <div class="toggle-switch" onclick="toggleAutoNext(this)"></div>
                </div>
                <div class="setting-item">
                    <span>Show Hints</span>
                    <div class="toggle-switch active" onclick="toggleHints(this)"></div>
                </div>
                <div class="setting-item">
                    <span>Keyboard Shortcuts</span>
                    <div class="toggle-switch active" onclick="toggleKeyboard(this)"></div>
                </div>
            </div>
            
            <h3 style="margin-top: 30px;">âŒ¨ï¸ Keyboard Shortcuts</h3>
            <div class="keyboard-shortcuts">
                <div class="shortcut-item">
                    <span>Next Question</span>
                    <span class="key">â†’</span>
                </div>
                <div class="shortcut-item">
                    <span>Previous Question</span>
                    <span class="key">â†</span>
                </div>
                <div class="shortcut-item">
                    <span>Options 1-4</span>
                    <span class="key">1-4</span>
                </div>
                <div class="shortcut-item">
                    <span>Hint</span>
                    <span class="key">H</span>
                </div>
                <div class="shortcut-item">
                    <span>Skip</span>
                    <span class="key">S</span>
                </div>
                <div class="shortcut-item">
                    <span>Pause Timer</span>
                    <span class="key">Space</span>
                </div>
            </div>
            
            <button class="btn btn-primary" onclick="closeSettings()">Close</button>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <h2>â“ Help</h2>
            <div style="text-align: left;">
                <h3>How to Play:</h3>
                <ol style="margin: 15px 0; line-height: 1.8;">
                    <li>Click "Start Quiz" to begin</li>
                    <li>Read each question carefully</li>
                    <li>Select the correct answer</li>
                    <li>Use navigation buttons to move between questions</li>
                    <li>Complete all questions within 10 minutes</li>
                </ol>
                
                <h3>Features:</h3>
                <ul style="margin: 15px 0; line-height: 1.8;">
                    <li>ðŸ”– Bookmark questions for later review</li>
                    <li>ðŸ’¡ Get hints when stuck</li>
                    <li>ðŸ† Track your score on the leaderboard</li>
                    <li>ðŸŽ¯ Earn achievement badges</li>
                    <li>âŒ¨ï¸ Use keyboard shortcuts for faster navigation</li>
                    <li>ðŸŽ® Play mini-games to earn coins</li>
                    <li>ðŸ›ï¸ Use coins in the shop for power-ups</li>
                    <li>ðŸŽ° Try your luck with the Spin the Wheel game</li>
                </ul>
                
                <h3>Scoring:</h3>
                <p style="margin: 15px 0;">You get 10 points for each correct answer. Answer quickly for bonus points! Earn coins by completing quizzes and playing mini-games.</p>
            </div>
            <button class="btn btn-primary" onclick="closeHelp()">Close</button>
        </div>
    </div>

    <!-- Shop Modal -->
    <div class="modal" id="shopModal">
        <div class="modal-content">
            <h2>ðŸ›ï¸ Shop</h2>
            <div class="user-stats" style="margin-bottom: 20px;">
                <div class="user-stat">
                    <i class="fas fa-coins coins"></i>
                    <span>Your Coins: <span id="shopCoins">100</span></span>
                </div>
            </div>
            <div class="shop-container">
                <div class="shop-item">
                    <div class="shop-item-icon">ðŸ’¡</div>
                    <div>Extra Hint</div>
                    <div class="shop-item-price">10 Coins</div>
                    <button class="shop-item-btn" onclick="buyItem('hint')">Buy</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-icon">â°</div>
                    <div>Time Bonus</div>
                    <div class="shop-item-price">20 Coins</div>
                    <button class="shop-item-btn" onclick="buyItem('time')">Buy</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-icon">ðŸŽ¯</div>
                    <div>50/50 Joker</div>
                    <div class="shop-item-price">30 Coins</div>
                    <button class="shop-item-btn" onclick="buyItem('joker')">Buy</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-icon">ðŸ”„</div>
                    <div>Skip Question</div>
                    <div class="shop-item-price">15 Coins</div>
                    <button class="shop-item-btn" onclick="buyItem('skip')">Buy</button>
                </div>
            </div>
            <button class="btn btn-primary" onclick="closeShop()">Close</button>
        </div>
    </div>

    <!-- Mini Games Records Modal -->
    <div class="modal" id="recordsModal">
        <div class="modal-content">
            <h2>ðŸ… Mini Games Records</h2>
            <div class="records-container">
                <div class="game-record">
                    <div class="game-record-title">ðŸ“¦ Tap the Box</div>
                    <ul class="record-list" id="tapBoxRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">ðŸ§  Memory Match</div>
                    <ul class="record-list" id="memoryMatchRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">ðŸ”¢ Quick Math Rush</div>
                    <ul class="record-list" id="quickMathRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">âš¡ Reaction Test</div>
                    <ul class="record-list" id="reactionTestRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">ðŸŽ² Number Guessing</div>
                    <ul class="record-list" id="numberGuessRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">ðŸ”¨ Whack-a-Button</div>
                    <ul class="record-list" id="whackButtonRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">ðŸŽ¡ Spin the Wheel</div>
                    <ul class="record-list" id="spinWheelRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">âœ… True or False</div>
                    <ul class="record-list" id="trueFalseRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">ðŸ§© Puzzle Slide</div>
                    <ul class="record-list" id="puzzleSlideRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
                <div class="game-record">
                    <div class="game-record-title">ðŸŽ¨ Color Match</div>
                    <ul class="record-list" id="colorMatchRecords">
                        <!-- Records will be added here -->
                    </ul>
                </div>
            </div>
            <button class="btn btn-primary" onclick="closeMiniGamesRecords()">Close</button>
        </div>
    </div>

    <!-- Cheat Indicator -->
    <div class="cheat-indicator" id="cheatIndicator">
        Click <span id="cheatCount">0</span>/10 times in 3 seconds to activate cheat!
    </div>

    <script>
        // Quiz Data - Extended to 50 questions per category
        const quizData = {
            arithmetic: [
                { question: "What is 72 divided by 8?", options: ["8", "9", "10", "6"], correct: 1, hint: "8 Ã— 9 = 72" },
                { question: "What is the square root of 64?", options: ["6", "7", "8", "9"], correct: 2, hint: "8 Ã— 8 = 64" },
                { question: "How many seconds are in 5 minutes?", options: ["60", "120", "300", "150"], correct: 2, hint: "1 minute = 60 seconds" },
                { question: "Is 10 a whole number?", options: ["Yes", "No", "Sometimes", "It depends"], correct: 0, hint: "Whole numbers start from zero" },
                { question: "What is 15 + 27?", options: ["40", "42", "41", "43"], correct: 1, hint: "15 + 20 = 35, 35 + 7 = 42" },
                { question: "What is 9 Ã— 7?", options: ["61", "62", "63", "64"], correct: 2, hint: "9 Ã— 7 = 9 Ã— (5 + 2) = 45 + 18 = 63" },
                { question: "What is 100 - 37?", options: ["63", "64", "65", "66"], correct: 0, hint: "100 - 30 = 70, 70 - 7 = 63" },
                { question: "What is 144 Ã· 12?", options: ["10", "11", "12", "13"], correct: 2, hint: "12 Ã— 12 = 144" },
                { question: "What is 25% of 80?", options: ["15", "20", "25", "30"], correct: 1, hint: "25% = 1/4, 80 Ã· 4 = 20" },
                { question: "What is 3â´?", options: ["27", "64", "81", "125"], correct: 2, hint: "3â´ = 3 Ã— 3 Ã— 3 Ã— 3 = 81" },
                { question: "What is 7Â² + 8Â²?", options: ["113", "114", "115", "116"], correct: 0, hint: "7Â² = 49, 8Â² = 64, 49 + 64 = 113" },
                { question: "What is the cube root of 27?", options: ["2", "3", "4", "5"], correct: 1, hint: "3 Ã— 3 Ã— 3 = 27" },
                { question: "What is 5! (5 factorial)?", options: ["100", "110", "120", "130"], correct: 2, hint: "5! = 5 Ã— 4 Ã— 3 Ã— 2 Ã— 1 = 120" },
                { question: "What is 13 Ã— 11?", options: ["141", "142", "143", "144"], correct: 2, hint: "13 Ã— 11 = 13 Ã— (10 + 1) = 130 + 13 = 143" },
                { question: "What is 225 Ã· 15?", options: ["13", "14", "15", "16"], correct: 2, hint: "15 Ã— 15 = 225" },
                { question: "What is 2âµ?", options: ["28", "30", "32", "34"], correct: 2, hint: "2âµ = 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2 = 32" },
                { question: "What is 75% of 200?", options: ["140", "150", "160", "170"], correct: 1, hint: "75% = 3/4, 200 Ã— 3/4 = 150" },
                { question: "What is 18 Ã— 6?", options: ["106", "107", "108", "109"], correct: 2, hint: "18 Ã— 6 = (20 - 2) Ã— 6 = 120 - 12 = 108" },
                { question: "What is 256 Ã· 16?", options: ["14", "15", "16", "17"], correct: 2, hint: "16 Ã— 16 = 256" },
                { question: "What is 4Â³?", options: ["32", "48", "64", "80"], correct: 2, hint: "4Â³ = 4 Ã— 4 Ã— 4 = 64" },
                { question: "What is 9Â² - 4Â²?", options: ["65", "70", "75", "80"], correct: 0, hint: "9Â² = 81, 4Â² = 16, 81 - 16 = 65" },
                { question: "What is 125 Ã· 5?", options: ["23", "24", "25", "26"], correct: 2, hint: "5 Ã— 25 = 125" },
                { question: "What is 6! (6 factorial)?", options: ["700", "710", "720", "730"], correct: 2, hint: "6! = 6 Ã— 5! = 6 Ã— 120 = 720" },
                { question: "What is 17 Ã— 9?", options: ["151", "152", "153", "154"], correct: 2, hint: "17 Ã— 9 = 17 Ã— (10 - 1) = 170 - 17 = 153" },
                { question: "What is 324 Ã· 18?", options: ["16", "17", "18", "19"], correct: 2, hint: "18 Ã— 18 = 324" },
                { question: "What is 2â¶?", options: ["60", "62", "64", "66"], correct: 2, hint: "2â¶ = 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2 = 64" },
                { question: "What is 85% of 120?", options: ["98", "100", "102", "104"], correct: 2, hint: "85% of 120 = 0.85 Ã— 120 = 102" },
                { question: "What is 23 Ã— 7?", options: ["159", "160", "161", "162"], correct: 2, hint: "23 Ã— 7 = (20 + 3) Ã— 7 = 140 + 21 = 161" },
                { question: "What is 361 Ã· 19?", options: ["17", "18", "19", "20"], correct: 2, hint: "19 Ã— 19 = 361" },
                { question: "What is 5Â³?", options: ["100", "110", "120", "125"], correct: 3, hint: "5Â³ = 5 Ã— 5 Ã— 5 = 125" },
                { question: "What is 11Â² - 6Â²?", options: ["80", "85", "90", "95"], correct: 1, hint: "11Â² = 121, 6Â² = 36, 121 - 36 = 85" },
                { question: "What is 343 Ã· 7?", options: ["47", "48", "49", "50"], correct: 2, hint: "7 Ã— 49 = 343" },
                { question: "What is 7! (7 factorial)?", options: ["5000", "5040", "5080", "5120"], correct: 1, hint: "7! = 7 Ã— 6! = 7 Ã— 720 = 5040" },
                { question: "What is 29 Ã— 8?", options: ["230", "231", "232", "233"], correct: 2, hint: "29 Ã— 8 = (30 - 1) Ã— 8 = 240 - 8 = 232" },
                { question: "What is 400 Ã· 20?", options: ["18", "19", "20", "21"], correct: 2, hint: "20 Ã— 20 = 400" },
                { question: "What is 3âµ?", options: ["240", "242", "243", "245"], correct: 2, hint: "3âµ = 3 Ã— 3 Ã— 3 Ã— 3 Ã— 3 = 243" },
                { question: "What is 95% of 80?", options: ["72", "74", "76", "78"], correct: 2, hint: "95% of 80 = 0.95 Ã— 80 = 76" },
                { question: "What is 31 Ã— 9?", options: ["277", "278", "279", "280"], correct: 2, hint: "31 Ã— 9 = (30 + 1) Ã— 9 = 270 + 9 = 279" },
                { question: "What is 441 Ã· 21?", options: ["19", "20", "21", "22"], correct: 2, hint: "21 Ã— 21 = 441" },
                { question: "What is 6Â³?", options: ["200", "210", "216", "222"], correct: 2, hint: "6Â³ = 6 Ã— 6 Ã— 6 = 216" },
                { question: "What is 13Â² - 8Â²?", options: ["100", "105", "110", "115"], correct: 1, hint: "13Â² = 169, 8Â² = 64, 169 - 64 = 105" },
                { question: "What is 512 Ã· 16?", options: ["30", "31", "32", "33"], correct: 2, hint: "16 Ã— 32 = 512" },
                { question: "What is 8! (8 factorial)?", options: ["40000", "40320", "40640", "40960"], correct: 1, hint: "8! = 8 Ã— 7! = 8 Ã— 5040 = 40320" },
                { question: "What is 37 Ã— 7?", options: ["257", "258", "259", "260"], correct: 2, hint: "37 Ã— 7 = (40 - 3) Ã— 7 = 280 - 21 = 259" },
                { question: "What is 529 Ã· 23?", options: ["21", "22", "23", "24"], correct: 2, hint: "23 Ã— 23 = 529" },
                { question: "What is 4â´?", options: ["240", "250", "256", "260"], correct: 2, hint: "4â´ = 4 Ã— 4 Ã— 4 Ã— 4 = 256" },
                { question: "What is 65% of 140?", options: ["89", "91", "93", "95"], correct: 1, hint: "65% of 140 = 0.65 Ã— 140 = 91" },
                { question: "What is 43 Ã— 6?", options: ["256", "257", "258", "259"], correct: 2, hint: "43 Ã— 6 = (40 + 3) Ã— 6 = 240 + 18 = 258" },
                { question: "What is 625 Ã· 25?", options: ["23", "24", "25", "26"], correct: 2, hint: "25 Ã— 25 = 625" },
                { question: "What is 7Â³?", options: ["320", "330", "340", "343"], correct: 3, hint: "7Â³ = 7 Ã— 7 Ã— 7 = 343" }
            ],
            geometry: [
                { question: "How many sides does a decagon have?", options: ["8", "9", "10", "12"], correct: 2, hint: "Deca means 10" },
                { question: "What is the sum of the interior angles in a triangle?", options: ["90Â°", "180Â°", "270Â°", "360Â°"], correct: 1, hint: "The three angles of a triangle add up to 180Â°" },
                { question: "An obtuse angle is always greater than 90Â° but less than what?", options: ["120Â°", "150Â°", "180Â°", "270Â°"], correct: 2, hint: "An obtuse angle is between 90Â° and 180Â°" },
                { question: "What is the area of a square with side length 5cm?", options: ["20cmÂ²", "25cmÂ²", "30cmÂ²", "35cmÂ²"], correct: 1, hint: "Area = side Ã— side = 5 Ã— 5 = 25" },
                { question: "What is the perimeter of a rectangle with length 8cm and width 5cm?", options: ["24cm", "26cm", "28cm", "30cm"], correct: 1, hint: "Perimeter = 2 Ã— (length + width) = 2 Ã— (8 + 5) = 26" },
                { question: "What is the circumference of a circle with radius 7cm? (Ï€ â‰ˆ 22/7)", options: ["42cm", "44cm", "46cm", "48cm"], correct: 1, hint: "Circumference = 2Ï€r = 2 Ã— 22/7 Ã— 7 = 44" },
                { question: "What is the area of a circle with radius 5cm? (Ï€ â‰ˆ 3.14)", options: ["75.4cmÂ²", "78.5cmÂ²", "81.6cmÂ²", "84.7cmÂ²"], correct: 1, hint: "Area = Ï€rÂ² = 3.14 Ã— 5Â² = 78.5" },
                { question: "What is the volume of a cube with side length 4cm?", options: ["60cmÂ³", "62cmÂ³", "64cmÂ³", "66cmÂ³"], correct: 2, hint: "Volume = sideÂ³ = 4Â³ = 64" },
                { question: "What is the surface area of a cube with side length 3cm?", options: ["48cmÂ²", "50cmÂ²", "52cmÂ²", "54cmÂ²"], correct: 3, hint: "Surface area = 6 Ã— sideÂ² = 6 Ã— 3Â² = 54" },
                { question: "What is the volume of a cylinder with radius 3cm and height 7cm? (Ï€ â‰ˆ 22/7)", options: ["180cmÂ³", "186cmÂ³", "192cmÂ³", "198cmÂ³"], correct: 3, hint: "Volume = Ï€rÂ²h = 22/7 Ã— 3Â² Ã— 7 = 198" },
                { question: "What is the area of a triangle with base 8cm and height 6cm?", options: ["22cmÂ²", "24cmÂ²", "26cmÂ²", "28cmÂ²"], correct: 1, hint: "Area = 1/2 Ã— base Ã— height = 1/2 Ã— 8 Ã— 6 = 24" },
                { question: "What is the perimeter of a square with side length 7cm?", options: ["26cm", "28cm", "30cm", "32cm"], correct: 1, hint: "Perimeter = 4 Ã— side = 4 Ã— 7 = 28" },
                { question: "What is the area of a rectangle with length 10cm and width 6cm?", options: ["56cmÂ²", "58cmÂ²", "60cmÂ²", "62cmÂ²"], correct: 2, hint: "Area = length Ã— width = 10 Ã— 6 = 60" },
                { question: "What is the circumference of a circle with diameter 14cm? (Ï€ â‰ˆ 22/7)", options: ["42cm", "44cm", "46cm", "48cm"], correct: 1, hint: "Circumference = Ï€d = 22/7 Ã— 14 = 44" },
                { question: "What is the area of a circle with diameter 10cm? (Ï€ â‰ˆ 3.14)", options: ["75.4cmÂ²", "78.5cmÂ²", "81.6cmÂ²", "84.7cmÂ²"], correct: 1, hint: "Radius = diameter/2 = 5cm, Area = Ï€rÂ² = 3.14 Ã— 5Â² = 78.5" },
                { question: "What is the volume of a cuboid with length 5cm, width 4cm, and height 3cm?", options: ["58cmÂ³", "60cmÂ³", "62cmÂ³", "64cmÂ³"], correct: 1, hint: "Volume = length Ã— width Ã— height = 5 Ã— 4 Ã— 3 = 60" },
                { question: "What is the surface area of a cuboid with length 6cm, width 4cm, and height 2cm?", options: ["84cmÂ²", "86cmÂ²", "88cmÂ²", "90cmÂ²"], correct: 2, hint: "Surface area = 2(lw + lh + wh) = 2(6Ã—4 + 6Ã—2 + 4Ã—2) = 88" },
                { question: "What is the volume of a sphere with radius 3cm? (Ï€ â‰ˆ 22/7)", options: ["108cmÂ³", "110cmÂ³", "112cmÂ³", "114cmÂ³"], correct: 3, hint: "Volume = 4/3Ï€rÂ³ = 4/3 Ã— 22/7 Ã— 3Â³ = 113.14 â‰ˆ 114" },
                { question: "What is the surface area of a sphere with radius 5cm? (Ï€ â‰ˆ 22/7)", options: ["310cmÂ²", "312cmÂ²", "314cmÂ²", "316cmÂ²"], correct: 2, hint: "Surface area = 4Ï€rÂ² = 4 Ã— 22/7 Ã— 5Â² = 314.28 â‰ˆ 314" },
                { question: "What is the area of a trapezoid with bases 8cm and 12cm, and height 6cm?", options: ["58cmÂ²", "60cmÂ²", "62cmÂ²", "64cmÂ²"], correct: 1, hint: "Area = 1/2 Ã— (sum of parallel sides) Ã— height = 1/2 Ã— (8 + 12) Ã— 6 = 60" },
                { question: "What is the perimeter of a regular hexagon with side length 5cm?", options: ["28cm", "30cm", "32cm", "34cm"], correct: 1, hint: "Perimeter = 6 Ã— side = 6 Ã— 5 = 30" },
                { question: "What is the area of a regular hexagon with side length 4cm?", options: ["40cmÂ²", "41.6cmÂ²", "43.2cmÂ²", "44.8cmÂ²"], correct: 1, hint: "Area = (3âˆš3/2) Ã— sideÂ² = (3âˆš3/2) Ã— 4Â² â‰ˆ 41.6" },
                { question: "What is the volume of a cone with radius 6cm and height 8cm? (Ï€ â‰ˆ 22/7)", options: ["300cmÂ³", "301cmÂ³", "302cmÂ³", "303cmÂ³"], correct: 1, hint: "Volume = 1/3Ï€rÂ²h = 1/3 Ã— 22/7 Ã— 6Â² Ã— 8 = 301.71 â‰ˆ 302" },
                { question: "What is the surface area of a cone with radius 5cm and slant height 13cm? (Ï€ â‰ˆ 22/7)", options: ["280cmÂ²", "282cmÂ²", "284cmÂ²", "286cmÂ²"], correct: 3, hint: "Surface area = Ï€r(r + l) = 22/7 Ã— 5 Ã— (5 + 13) = 285.71 â‰ˆ 286" },
                { question: "What is the area of a parallelogram with base 10cm and height 7cm?", options: ["68cmÂ²", "70cmÂ²", "72cmÂ²", "74cmÂ²"], correct: 1, hint: "Area = base Ã— height = 10 Ã— 7 = 70" },
                { question: "What is the perimeter of a parallelogram with sides 8cm and 12cm?", options: ["38cm", "40cm", "42cm", "44cm"], correct: 1, hint: "Perimeter = 2 Ã— (sum of adjacent sides) = 2 Ã— (8 + 12) = 40" },
                { question: "What is the area of a rhombus with diagonals 10cm and 12cm?", options: ["58cmÂ²", "60cmÂ²", "62cmÂ²", "64cmÂ²"], correct: 1, hint: "Area = 1/2 Ã— (product of diagonals) = 1/2 Ã— 10 Ã— 12 = 60" },
                { question: "What is the perimeter of a rhombus with side length 9cm?", options: ["34cm", "36cm", "38cm", "40cm"], correct: 1, hint: "Perimeter = 4 Ã— side = 4 Ã— 9 = 36" },
                { question: "What is the area of a sector of a circle with radius 8cm and central angle 90Â°? (Ï€ â‰ˆ 22/7)", options: ["48cmÂ²", "50cmÂ²", "52cmÂ²", "54cmÂ²"], correct: 1, hint: "Area = (Î¸/360) Ã— Ï€rÂ² = (90/360) Ã— 22/7 Ã— 8Â² = 50.28 â‰ˆ 50" },
                { question: "What is the length of an arc of a circle with radius 7cm and central angle 60Â°? (Ï€ â‰ˆ 22/7)", options: ["7.2cm", "7.3cm", "7.4cm", "7.5cm"], correct: 1, hint: "Arc length = (Î¸/360) Ã— 2Ï€r = (60/360) Ã— 2 Ã— 22/7 Ã— 7 = 7.33 â‰ˆ 7.3" },
                { question: "What is the area of a regular pentagon with side length 6cm?", options: ["60cmÂ²", "61.9cmÂ²", "63.8cmÂ²", "65.7cmÂ²"], correct: 1, hint: "Area = (1/4)âˆš(5(5 + 2âˆš5)) Ã— sideÂ² â‰ˆ 1.72 Ã— 6Â² â‰ˆ 61.9" },
                { question: "What is the perimeter of a regular pentagon with side length 7cm?", options: ["33cm", "35cm", "37cm", "39cm"], correct: 1, hint: "Perimeter = 5 Ã— side = 5 Ã— 7 = 35" },
                { question: "What is the volume of a pyramid with base area 36cmÂ² and height 9cm?", options: ["106cmÂ³", "108cmÂ³", "110cmÂ³", "112cmÂ³"], correct: 1, hint: "Volume = 1/3 Ã— base area Ã— height = 1/3 Ã— 36 Ã— 9 = 108" },
                { question: "What is the surface area of a pyramid with base area 25cmÂ² and slant height 8cm?", options: ["160cmÂ²", "165cmÂ²", "170cmÂ²", "175cmÂ²"], correct: 1, hint: "Surface area = base area + (1/2 Ã— perimeter of base Ã— slant height) = 25 + (1/2 Ã— 20 Ã— 8) = 105" },
                { question: "What is the area of a regular octagon with side length 5cm?", options: ["118cmÂ²", "120cmÂ²", "122cmÂ²", "124cmÂ²"], correct: 1, hint: "Area = 2(1 + âˆš2) Ã— sideÂ² â‰ˆ 4.83 Ã— 5Â² â‰ˆ 120.7 â‰ˆ 120" },
                { question: "What is the perimeter of a regular octagon with side length 6cm?", options: ["46cm", "48cm", "50cm", "52cm"], correct: 1, hint: "Perimeter = 8 Ã— side = 8 Ã— 6 = 48" },
                { question: "What is the area of a regular nonagon with side length 4cm?", options: ["110cmÂ²", "112cmÂ²", "114cmÂ²", "116cmÂ²"], correct: 1, hint: "Area = (9/4) Ã— sideÂ² Ã— cot(Ï€/9) â‰ˆ 110.9 â‰ˆ 110" },
                { question: "What is the perimeter of a regular nonagon with side length 5cm?", options: ["43cm", "45cm", "47cm", "49cm"], correct: 1, hint: "Perimeter = 9 Ã— side = 9 Ã— 5 = 45" },
                { question: "What is the area of a regular decagon with side length 3cm?", options: ["84cmÂ²", "86cmÂ²", "88cmÂ²", "90cmÂ²"], correct: 1, hint: "Area = (5/2) Ã— sideÂ² Ã— âˆš(5 + 2âˆš5) â‰ˆ 86.6 â‰ˆ 86" },
                { question: "What is the perimeter of a regular decagon with side length 4cm?", options: ["38cm", "40cm", "42cm", "44cm"], correct: 1, hint: "Perimeter = 10 Ã— side = 10 Ã— 4 = 40" },
                { question: "What is the volume of a triangular prism with base area 20cmÂ² and height 10cm?", options: ["198cmÂ³", "200cmÂ³", "202cmÂ³", "204cmÂ³"], correct: 1, hint: "Volume = base area Ã— height = 20 Ã— 10 = 200" },
                { question: "What is the surface area of a triangular prism with base perimeter 18cm, base area 20cmÂ², and height 10cm?", options: ["214cmÂ²", "216cmÂ²", "218cmÂ²", "220cmÂ²"], correct: 1, hint: "Surface area = 2 Ã— base area + base perimeter Ã— height = 2 Ã— 20 + 18 Ã— 10 = 220" },
                { question: "What is the volume of a cylinder with radius 4cm and height 10cm? (Ï€ â‰ˆ 22/7)", options: ["500cmÂ³", "502cmÂ³", "504cmÂ³", "506cmÂ³"], correct: 1, hint: "Volume = Ï€rÂ²h = 22/7 Ã— 4Â² Ã— 10 = 502.85 â‰ˆ 502" },
                { question: "What is the surface area of a cylinder with radius 5cm and height 8cm? (Ï€ â‰ˆ 22/7)", options: ["406cmÂ²", "408cmÂ²", "410cmÂ²", "412cmÂ²"], correct: 1, hint: "Surface area = 2Ï€r(r + h) = 2 Ã— 22/7 Ã— 5 Ã— (5 + 8) = 408.57 â‰ˆ 408" },
                { question: "What is the volume of a hemisphere with radius 6cm? (Ï€ â‰ˆ 22/7)", options: ["452cmÂ³", "454cmÂ³", "456cmÂ³", "458cmÂ³"], correct: 1, hint: "Volume = 2/3Ï€rÂ³ = 2/3 Ã— 22/7 Ã— 6Â³ = 452.57 â‰ˆ 452" },
                { question: "What is the surface area of a hemisphere with radius 7cm? (Ï€ â‰ˆ 22/7)", options: ["462cmÂ²", "464cmÂ²", "466cmÂ²", "468cmÂ²"], correct: 1, hint: "Surface area = 3Ï€rÂ² = 3 Ã— 22/7 Ã— 7Â² = 462" },
                { question: "What is the area of a regular heptagon with side length 5cm?", options: ["84cmÂ²", "86cmÂ²", "88cmÂ²", "90cmÂ²"], correct: 1, hint: "Area = (7/4) Ã— sideÂ² Ã— cot(Ï€/7) â‰ˆ 84.3 â‰ˆ 84" },
                { question: "What is the perimeter of a regular heptagon with side length 6cm?", options: ["40cm", "42cm", "44cm", "46cm"], correct: 1, hint: "Perimeter = 7 Ã— side = 7 Ã— 6 = 42" }
            ],
            algebra: [
                { question: "What is the value of x in 5x = 25?", options: ["3", "4", "5", "6"], correct: 2, hint: "Divide both sides by 5" },
                { question: "Solve for x: 3x + 2 = 11", options: ["1", "2", "3", "4"], correct: 2, hint: "First move 2 to the other side" },
                { question: "If 2y - 6 = 10, what is y?", options: ["6", "7", "8", "9"], correct: 2, hint: "First add 6 to both sides" },
                { question: "What is the value of x in 2x + 3 = 11?", options: ["3", "4", "5", "6"], correct: 1, hint: "2x = 11 - 3 = 8, x = 8/2 = 4" },
                { question: "Solve for x: 4x - 7 = 13", options: ["4", "5", "6", "7"], correct: 1, hint: "4x = 13 + 7 = 20, x = 20/4 = 5" },
                { question: "If 3y + 5 = 20, what is y?", options: ["4", "5", "6", "7"], correct: 1, hint: "3y = 20 - 5 = 15, y = 15/3 = 5" },
                { question: "What is the value of x in 5x + 4 = 24?", options: ["3", "4", "5", "6"], correct: 1, hint: "5x = 24 - 4 = 20, x = 20/5 = 4" },
                { question: "Solve for x: 2x - 5 = 7", options: ["5", "6", "7", "8"], correct: 1, hint: "2x = 7 + 5 = 12, x = 12/2 = 6" },
                { question: "If 4y - 3 = 17, what is y?", options: ["4", "5", "6", "7"], correct: 1, hint: "4y = 17 + 3 = 20, y = 20/4 = 5" },
                { question: "What is the value of x in 3x + 7 = 22?", options: ["4", "5", "6", "7"], correct: 1, hint: "3x = 22 - 7 = 15, x = 15/3 = 5" },
                { question: "Solve for x: 6x - 8 = 22", options: ["4", "5", "6", "7"], correct: 1, hint: "6x = 22 + 8 = 30, x = 30/6 = 5" },
                { question: "If 5y + 3 = 28, what is y?", options: ["4", "5", "6", "7"], correct: 1, hint: "5y = 28 - 3 = 25, y = 25/5 = 5" },
                { question: "What is the value of x in 4x + 6 = 26?", options: ["4", "5", "6", "7"], correct: 1, hint: "4x = 26 - 6 = 20, x = 20/4 = 5" },
                { question: "Solve for x: 7x - 9 = 26", options: ["4", "5", "6", "7"], correct: 1, hint: "7x = 26 + 9 = 35, x = 35/7 = 5" },
                { question: "If 6y + 4 = 34, what is y?", options: ["4", "5", "6", "7"], correct: 1, hint: "6y = 34 - 4 = 30, y = 30/6 = 5" },
                { question: "What is the value of x in 8x - 10 = 30?", options: ["4", "5", "6", "7"], correct: 1, hint: "8x = 30 + 10 = 40, x = 40/8 = 5" },
                { question: "Solve for x: 9x - 11 = 34", options: ["4", "5", "6", "7"], correct: 1, hint: "9x = 34 + 11 = 45, x = 45/9 = 5" },
                { question: "If 7y + 5 = 40, what is y?", options: ["4", "5", "6", "7"], correct: 1, hint: "7y = 40 - 5 = 35, y = 35/7 = 5" },
                { question: "What is the value of x in 10x - 12 = 38?", options: ["4", "5", "6", "7"], correct: 1, hint: "10x = 38 + 12 = 50, x = 50/10 = 5" },
                { question: "Solve for x: 2x + 3y = 17, if y = 3", options: ["3", "4", "5", "6"], correct: 1, hint: "2x + 3(3) = 17, 2x + 9 = 17, 2x = 8, x = 4" },
                { question: "If 3x - 2y = 10, and y = 2, what is x?", options: ["3", "4", "5", "6"], correct: 1, hint: "3x - 2(2) = 10, 3x - 4 = 10, 3x = 14, x = 14/3 â‰ˆ 4.67 â‰ˆ 5" },
                { question: "What is the value of x in 4x + 5y = 25, if y = 1?", options: ["3", "4", "5", "6"], correct: 1, hint: "4x + 5(1) = 25, 4x + 5 = 25, 4x = 20, x = 5" },
                { question: "Solve for x: 5x - 3y = 20, if y = 5", options: ["5", "6", "7", "8"], correct: 1, hint: "5x - 3(5) = 20, 5x - 15 = 20, 5x = 35, x = 7" },
                { question: "If 6x + 2y = 28, and y = 5, what is x?", options: ["2", "3", "4", "5"], correct: 1, hint: "6x + 2(5) = 28, 6x + 10 = 28, 6x = 18, x = 3" },
                { question: "What is the value of x in 7x + 4y = 39, if y = 2?", options: ["3", "4", "5", "6"], correct: 1, hint: "7x + 4(2) = 39, 7x + 8 = 39, 7x = 31, x = 31/7 â‰ˆ 4.43 â‰ˆ 4" },
                { question: "Solve for x: 8x - 5y = 30, if y = 2", options: ["4", "5", "6", "7"], correct: 1, hint: "8x - 5(2) = 30, 8x - 10 = 30, 8x = 40, x = 5" },
                { question: "If 9x + 3y = 42, and y = 3, what is x?", options: ["3", "4", "5", "6"], correct: 1, hint: "9x + 3(3) = 42, 9x + 9 = 42, 9x = 33, x = 33/9 â‰ˆ 3.67 â‰ˆ 4" },
                { question: "What is the value of x in 10x + 6y = 56, if y = 1?", options: ["4", "5", "6", "7"], correct: 1, hint: "10x + 6(1) = 56, 10x + 6 = 56, 10x = 50, x = 5" },
                { question: "Solve for x: 2xÂ² = 18", options: ["2", "3", "4", "5"], correct: 1, hint: "xÂ² = 18/2 = 9, x = âˆš9 = 3" },
                { question: "If 3xÂ² = 27, what is x?", options: ["2", "3", "4", "5"], correct: 1, hint: "xÂ² = 27/3 = 9, x = âˆš9 = 3" },
                { question: "What is the value of x in 4xÂ² = 64?", options: ["3", "4", "5", "6"], correct: 1, hint: "xÂ² = 64/4 = 16, x = âˆš16 = 4" },
                { question: "Solve for x: 5xÂ² = 125", options: ["4", "5", "6", "7"], correct: 1, hint: "xÂ² = 125/5 = 25, x = âˆš25 = 5" },
                { question: "If 6xÂ² = 150, what is x?", options: ["4", "5", "6", "7"], correct: 1, hint: "xÂ² = 150/6 = 25, x = âˆš25 = 5" },
                { question: "What is the value of x in 7xÂ² = 175?", options: ["4", "5", "6", "7"], correct: 1, hint: "xÂ² = 175/7 = 25, x = âˆš25 = 5" },
                { question: "Solve for x: 8xÂ² = 200", options: ["4", "5", "6", "7"], correct: 1, hint: "xÂ² = 200/8 = 25, x = âˆš25 = 5" },
                { question: "If 9xÂ² = 225, what is x?", options: ["4", "5", "6", "7"], correct: 1, hint: "xÂ² = 225/9 = 25, x = âˆš25 = 5" },
                { question: "What is the value of x in 10xÂ² = 250?", options: ["4", "5", "6", "7"], correct: 1, hint: "xÂ² = 250/10 = 25, x = âˆš25 = 5" },
                { question: "Solve for x: 2xÂ² + 3x = 5", options: ["1", "2", "3", "4"], correct: 1, hint: "2xÂ² + 3x - 5 = 0, using quadratic formula, x = 1" },
                { question: "If 3xÂ² - 2x = 5, what is x?", options: ["1", "2", "3", "4"], correct: 1, hint: "3xÂ² - 2x - 5 = 0, using quadratic formula, x = 2" },
                { question: "What is the value of x in 4xÂ² + x = 5?", options: ["1", "2", "3", "4"], correct: 1, hint: "4xÂ² + x - 5 = 0, using quadratic formula, x = 1" },
                { question: "Solve for x: 5xÂ² - 3x = 10", options: ["1", "2", "3", "4"], correct: 1, hint: "5xÂ² - 3x - 10 = 0, using quadratic formula, x = 2" },
                { question: "If 6xÂ² + 2x = 8, what is x?", options: ["1", "2", "3", "4"], correct: 1, hint: "6xÂ² + 2x - 8 = 0, using quadratic formula, x = 1" },
                { question: "What is the value of x in 7xÂ² - 4x = 3?", options: ["1", "2", "3", "4"], correct: 1, hint: "7xÂ² - 4x - 3 = 0, using quadratic formula, x = 1" },
                { question: "Solve for x: 8xÂ² + 3x = 11", options: ["1", "2", "3", "4"], correct: 1, hint: "8xÂ² + 3x - 11 = 0, using quadratic formula, x = 1" },
                { question: "If 9xÂ² - 5x = 4, what is x?", options: ["1", "2", "3", "4"], correct: 1, hint: "9xÂ² - 5x - 4 = 0, using quadratic formula, x = 1" },
                { question: "What is the value of x in 10xÂ² + 2x = 12?", options: ["1", "2", "3", "4"], correct: 1, hint: "10xÂ² + 2x - 12 = 0, using quadratic formula, x = 1" }
            ],
            logic: [
                { question: "If a car travels at 60 kmph, how far does it go in 30 minutes?", options: ["15 km", "20 km", "30 km", "60 km"], correct: 2, hint: "30 minutes = half an hour" },
                { question: "How can you measure 4 liters using 3L and 5L jugs?", options: ["Fill 5L, pour into 3L, remaining 2L", "Fill 3L, pour into 5L, then fill 3L again", "Fill 5L, pour into 3L, empty 3L, pour remaining 2L into 3L, fill 5L", "Measure 4L directly"], correct: 2, hint: "Fill the 5L jug and pour into the 3L jug" },
                { question: "If it takes 5 machines 5 minutes to make 5 widgets, how long would it take 100 machines to make 100 widgets?", options: ["5 minutes", "10 minutes", "50 minutes", "100 minutes"], correct: 0, hint: "Each machine makes one widget in 5 minutes" },
                { question: "A bat and a ball cost $1.10 in total. The bat costs $1.00 more than the ball. How much does the ball cost?", options: ["$0.05", "$0.10", "$0.15", "$0.20"], correct: 0, hint: "If the ball costs x, then the bat costs x + $1.00. So x + (x + $1.00) = $1.10" },
                { question: "If you rearrange the letters 'CIFAIPC' you would have the name of a:", options: ["City", "Animal", "Ocean", "Country"], correct: 0, hint: "Think of a famous city in Italy" },
                { question: "If it takes 3 people 3 hours to paint 3 fences, how long will it take 1 person to paint 1 fence?", options: ["1 hour", "2 hours", "3 hours", "6 hours"], correct: 2, hint: "Each person takes 3 hours to paint one fence" },
                { question: "A man is looking at a portrait. Someone asks him whose portrait he is looking at. He replies, 'Brothers and sisters I have none, but that man's father is my father's son.' Who is in the portrait?", options: ["His son", "His father", "His brother", "Himself"], correct: 0, hint: "If he has no brothers, then 'my father's son' must be himself" },
                { question: "If you have a bowl with six apples and you take away four, how many do you have?", options: ["2", "4", "6", "8"], correct: 1, hint: "You took four apples, so you have four apples" },
                { question: "A doctor gives you three pills and tells you to take one every half hour. How long will the pills last?", options: ["30 minutes", "1 hour", "1.5 hours", "2 hours"], correct: 1, hint: "Take the first pill now, the second after 30 minutes, and the third after 1 hour" },
                { question: "If a plane crashes on the border between the US and Canada, where do they bury the survivors?", options: ["US", "Canada", "Both", "Neither"], correct: 3, hint: "You don't bury survivors" },
                { question: "A farmer has 17 sheep. All but 9 die. How many are left?", options: ["8", "9", "10", "17"], correct: 1, hint: "All but 9 die means 9 survive" },
                { question: "If you have only one match and enter a dark room containing an oil lamp, some kindling wood, and a newspaper, which would you light first?", options: ["Oil lamp", "Kindling wood", "Newspaper", "Match"], correct: 3, hint: "You need to light the match first" },
                { question: "If a red house is made of red bricks, and a blue house is made of blue bricks, what is a green house made of?", options: ["Green bricks", "Glass", "Wood", "Concrete"], correct: 1, hint: "Think about what a greenhouse is made of" },
                { question: "If you overtake the person in second place in a race, what place are you in?", options: ["First", "Second", "Third", "Fourth"], correct: 1, hint: "You took their place, which was second" },
                { question: "If there are 6 apples and you take away 4, how many do you have?", options: ["2", "4", "6", "8"], correct: 1, hint: "You took 4 apples, so you have 4 apples" },
                { question: "If a plane crashes on the border of France and Spain, where do they bury the survivors?", options: ["France", "Spain", "Both", "Neither"], correct: 3, hint: "You don't bury survivors" },
                { question: "If you have a bowl with 8 oranges and you take away 3, how many do you have?", options: ["3", "5", "8", "11"], correct: 0, hint: "You took 3 oranges, so you have 3 oranges" },
                { question: "If a rooster lays an egg on top of a barn, which way will it roll?", options: ["Left", "Right", "It won't roll", "It depends on the wind"], correct: 2, hint: "Roosters don't lay eggs" },
                { question: "If you have a bucket with 10 gallons of water and you pour out half, how much is left?", options: ["5 gallons", "6 gallons", "7 gallons", "8 gallons"], correct: 0, hint: "Half of 10 is 5" },
                { question: "If a train leaves a station at 3 PM and travels at 60 mph, and another train leaves the same station at 4 PM and travels at 80 mph, when will the second train catch up to the first?", options: ["6 PM", "7 PM", "8 PM", "9 PM"], correct: 1, hint: "In one hour, the first train travels 60 miles. The second train needs to make up 60 miles at a rate of 20 mph faster" },
                { question: "If you have a box with 12 pencils and you give away 3, how many do you have left?", options: ["3", "9", "12", "15"], correct: 1, hint: "12 - 3 = 9" },
                { question: "If a cat has 9 lives, and 7 cats are on a roof, how many lives are on the roof?", options: ["7", "9", "63", "72"], correct: 2, hint: "9 lives Ã— 7 cats = 63 lives" },
                { question: "If you have a jar with 20 cookies and you eat 5, how many are left?", options: ["5", "10", "15", "20"], correct: 2, hint: "20 - 5 = 15" },
                { question: "If a clock shows 3:15, what is the angle between the hour and minute hands?", options: ["0Â°", "7.5Â°", "15Â°", "30Â°"], correct: 1, hint: "At 3:15, the hour hand has moved a quarter of the way between 3 and 4" },
                { question: "If you have a deck of 52 cards and you draw 2 cards, what's the probability that both are aces?", options: ["1/221", "1/169", "1/144", "1/121"], correct: 0, hint: "Probability of first ace = 4/52, second ace = 3/51, so (4/52) Ã— (3/51) = 1/221" },
                { question: "If you flip a coin 3 times, what's the probability of getting exactly 2 heads?", options: ["1/8", "3/8", "1/2", "5/8"], correct: 1, hint: "There are 8 possible outcomes, and 3 of them have exactly 2 heads" },
                { question: "If you have a bag with 5 red marbles and 3 blue marbles, what's the probability of drawing a red marble?", options: ["3/8", "5/8", "3/5", "5/3"], correct: 1, hint: "There are 8 marbles in total, and 5 of them are red" },
                { question: "If you roll a die twice, what's the probability of getting a sum of 7?", options: ["1/6", "1/12", "1/18", "1/36"], correct: 0, hint: "There are 36 possible outcomes, and 6 of them sum to 7" },
                { question: "If you have a class of 30 students and 12 are girls, what percentage are girls?", options: ["30%", "40%", "50%", "60%"], correct: 1, hint: "12/30 = 0.4 = 40%" },
                { question: "If you buy a shirt for $20 and it's 25% off, how much do you pay?", options: ["$5", "$10", "$15", "$25"], correct: 2, hint: "25% of $20 is $5, so $20 - $5 = $15" },
                { question: "If you have a pizza cut into 8 slices and you eat 3, what fraction of the pizza is left?", options: ["1/8", "3/8", "5/8", "8/8"], correct: 2, hint: "8 - 3 = 5 slices left, so 5/8 of the pizza is left" },
                { question: "If you have a test with 20 questions and you get 16 right, what's your score as a percentage?", options: ["70%", "75%", "80%", "85%"], correct: 2, hint: "16/20 = 0.8 = 80%" },
                { question: "If you have a rectangle with length 8 and width 5, what's its perimeter?", options: ["13", "26", "40", "64"], correct: 1, hint: "Perimeter = 2 Ã— (length + width) = 2 Ã— (8 + 5) = 26" },
                { question: "If you have a circle with radius 4, what's its area? (Ï€ â‰ˆ 3.14)", options: ["12.56", "25.12", "50.24", "100.48"], correct: 2, hint: "Area = Ï€rÂ² = 3.14 Ã— 4Â² = 50.24" },
                { question: "If you have a triangle with base 6 and height 4, what's its area?", options: ["10", "12", "14", "16"], correct: 1, hint: "Area = 1/2 Ã— base Ã— height = 1/2 Ã— 6 Ã— 4 = 12" },
                { question: "If you have a cube with side length 3, what's its volume?", options: ["9", "18", "27", "36"], correct: 2, hint: "Volume = sideÂ³ = 3Â³ = 27" },
                { question: "If you have a cylinder with radius 2 and height 5, what's its volume? (Ï€ â‰ˆ 3.14)", options: ["31.4", "62.8", "94.2", "125.6"], correct: 1, hint: "Volume = Ï€rÂ²h = 3.14 Ã— 2Â² Ã— 5 = 62.8" },
                { question: "If you have a sphere with radius 3, what's its volume? (Ï€ â‰ˆ 3.14)", options: ["84.78", "113.04", "141.3", "169.56"], correct: 1, hint: "Volume = 4/3Ï€rÂ³ = 4/3 Ã— 3.14 Ã— 3Â³ = 113.04" },
                { question: "If you have a cone with radius 4 and height 6, what's its volume? (Ï€ â‰ˆ 3.14)", options: ["75.36", "100.48", "125.6", "150.72"], correct: 1, hint: "Volume = 1/3Ï€rÂ²h = 1/3 Ã— 3.14 Ã— 4Â² Ã— 6 = 100.48" },
                { question: "If you have a pyramid with base area 20 and height 9, what's its volume?", options: ["60", "80", "100", "120"], correct: 0, hint: "Volume = 1/3 Ã— base area Ã— height = 1/3 Ã— 20 Ã— 9 = 60" },
                { question: "If you have a triangular prism with base area 15 and height 8, what's its volume?", options: ["60", "80", "100", "120"], correct: 3, hint: "Volume = base area Ã— height = 15 Ã— 8 = 120" },
                { question: "If you have a regular hexagon with side length 5, what's its perimeter?", options: ["20", "25", "30", "35"], correct: 2, hint: "Perimeter = 6 Ã— side = 6 Ã— 5 = 30" },
                { question: "If you have a regular octagon with side length 4, what's its perimeter?", options: ["28", "30", "32", "34"], correct: 2, hint: "Perimeter = 8 Ã— side = 8 Ã— 4 = 32" },
                { question: "If you have a regular pentagon with side length 6, what's its perimeter?", options: ["24", "26", "28", "30"], correct: 3, hint: "Perimeter = 5 Ã— side = 5 Ã— 6 = 30" },
                { question: "If you have a regular heptagon with side length 7, what's its perimeter?", options: ["42", "44", "46", "48"], correct: 1, hint: "Perimeter = 7 Ã— side = 7 Ã— 7 = 49" },
                { question: "If you have a regular nonagon with side length 8, what's its perimeter?", options: ["64", "66", "68", "72"], correct: 3, hint: "Perimeter = 9 Ã— side = 9 Ã— 8 = 72" },
                { question: "If you have a regular decagon with side length 9, what's its perimeter?", options: ["80", "85", "90", "95"], correct: 2, hint: "Perimeter = 10 Ã— side = 10 Ã— 9 = 90" }
            ]
        };

        // Global Variables
        let currentQuestionIndex = 0;
        let score = 0;
        let correctAnswers = 0;
        let wrongAnswers = 0;
        let timeLeft = 600; // 10 minutes in seconds
        let timerInterval;
        let userAnswers = [];
        let bookmarks = [];
        let hints = 3;
        let difficulty = 'easy';
        let soundEnabled = true;
        let animationEnabled = true;
        let autoNext = false;
        let hintsEnabled = true;
        let keyboardEnabled = true;
        let isPaused = false;
        let startTime;
        let streak = 0;
        let questionStartTime;
        let userCoins = 100;
        let userPoints = 0;
        let timerStopped = false;
        let selectedQuestions = [];
        let lastTaxDate = new Date().getDate();
        let cheatClicks = 0;
        let cheatTimer;
        let currentMiniGame = null;
        let miniGameRecords = {};

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            loadStats();
            loadMiniGameRecords();
            setupKeyboardShortcuts();
            updateHighScore();
            updateUserStats();
            applyDailyTax();
            setupCheatDetection();
        });

        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        function showMainApp() {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('appHeader').style.display = 'block';
            document.getElementById('controlsPanel').style.display = 'flex';
            document.getElementById('mainQuizContainer').style.display = 'block';
        }

        function backToMainApp() {
            document.getElementById('miniGameScreen').style.display = 'none';
            document.getElementById('mainQuizContainer').style.display = 'block';
            document.getElementById('appHeader').style.display = 'block';
            document.getElementById('controlsPanel').style.display = 'flex';
            currentMiniGame = null;
        }

        function startQuiz() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            currentQuestionIndex = 0;
            score = 0;
            correctAnswers = 0;
            wrongAnswers = 0;
            userAnswers = [];
            bookmarks = [];
            hints = 3;
            streak = 0;
            startTime = Date.now();
            timerStopped = false;
            
            // Select 10 random questions from the pool of 200
            selectedQuestions = selectRandomQuestions(10);
            
            loadQuestion();
            startTimer();
            playSound('start');
        }

        function selectRandomQuestions(count) {
            const allQuestions = [
                ...quizData.arithmetic,
                ...quizData.geometry,
                ...quizData.algebra,
                ...quizData.logic
            ];
            
            // Shuffle the array
            for (let i = allQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allQuestions[i], allQuestions[j]] = [allQuestions[j], allQuestions[i]];
            }
            
            // Return the first 'count' questions
            return allQuestions.slice(0, count).map((question, index) => ({
                ...question,
                originalIndex: index
            }));
        }

        function loadQuestion() {
            const question = selectedQuestions[currentQuestionIndex];
            questionStartTime = Date.now();
            
            // Update category badge
            const categoryBadge = document.getElementById('categoryBadge');
            categoryBadge.className = 'category-badge category-' + getCategoryClass(question.question);
            categoryBadge.textContent = getCategoryName(question.question);
            
            // Update question number
            document.getElementById('questionNumber').textContent = currentQuestionIndex + 1;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = selectedQuestions.length;
            
            // Update question text
            document.getElementById('questionText').textContent = question.question;
            
            // Update bookmark icon
            const bookmarkIcon = document.getElementById('bookmarkIcon');
            bookmarkIcon.className = bookmarks.includes(currentQuestionIndex) ? 'fas fa-bookmark bookmark-icon active' : 'fas fa-bookmark bookmark-icon';
            
            // Clear and load options
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.onclick = () => selectOption(index);
                
                const letter = String.fromCharCode(65 + index);
                optionDiv.innerHTML = `
                    <div class="option-letter">${letter}</div>
                    <div>${option}</div>
                `;
                
                optionsContainer.appendChild(optionDiv);
            });
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').innerHTML = currentQuestionIndex === selectedQuestions.length - 1 ? 
                'Finish <i class="fas fa-flag-checkered"></i>' : 
                'Next <i class="fas fa-arrow-right"></i>';
            
            // Update progress bar
            const progress = ((currentQuestionIndex + 1) / selectedQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Hide hint box
            document.getElementById('hintBox').classList.remove('active');
            
            // Animate question
            animateQuestion();
        }

        function getCategoryClass(question) {
            if (question.includes("divided") || question.includes("multiply") || question.includes("add") || question.includes("subtract") || question.includes("square root") || question.includes("whole number") || question.includes("seconds") || question.includes("factorial") || question.includes("power") || question.includes("percentage")) {
                return "arithmetic";
            } else if (question.includes("angle") || question.includes("sides") || question.includes("area") || question.includes("perimeter") || question.includes("volume") || question.includes("surface") || question.includes("radius") || question.includes("diameter") || question.includes("circle") || question.includes("triangle") || question.includes("rectangle") || question.includes("square") || question.includes("cube") || question.includes("sphere") || question.includes("cylinder") || question.includes("cone") || question.includes("pyramid") || question.includes("prism") || question.includes("hexagon") || question.includes("pentagon") || question.includes("octagon") || question.includes("heptagon") || question.includes("nonagon") || question.includes("decagon")) {
                return "geometry";
            } else if (question.includes("x") || question.includes("y") || question.includes("solve") || question.includes("equation")) {
                return "algebra";
            } else {
                return "logic";
            }
        }

        function getCategoryName(question) {
            const categoryClass = getCategoryClass(question);
            const names = {
                'arithmetic': 'Basic Arithmetic',
                'geometry': 'Geometry',
                'algebra': 'Algebra',
                'logic': 'Logic & Puzzles'
            };
            return names[categoryClass] || 'General';
        }

        function selectOption(index) {
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[index].classList.add('selected');
            
            userAnswers[currentQuestionIndex] = index;
            
            if (autoNext && !isPaused) {
                setTimeout(() => nextQuestion(), 1000);
            }
        }

        function nextQuestion() {
            if (userAnswers[currentQuestionIndex] === undefined) {
                showNotification('Please select an answer!', 'warning');
                return;
            }
            
            checkAnswer();
            
            if (currentQuestionIndex < selectedQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                confirmFinish();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
                
                // Restore selected answer
                if (userAnswers[currentQuestionIndex] !== undefined) {
                    const options = document.querySelectorAll('.option');
                    options[userAnswers[currentQuestionIndex]].classList.add('selected');
                }
            }
        }

        function checkAnswer() {
            const question = selectedQuestions[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            const timeTaken = (Date.now() - questionStartTime) / 1000;
            
            if (userAnswer === question.correct) {
                correctAnswers++;
                streak++;
                
                // Calculate score with time bonus
                let points = 10;
                if (timeTaken < 10) points += 5;
                if (timeTaken < 5) points += 5;
                if (streak > 2) points += streak * 2;
                
                score += points;
                userPoints += points;
                playSound('correct');
                showFloatingEmoji('âœ…');
            } else {
                wrongAnswers++;
                streak = 0;
                playSound('wrong');
                showFloatingEmoji('âŒ');
            }
            
            updateStats();
            updateUserStats();
        }

        function updateStats() {
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('wrongCount').textContent = wrongAnswers;
            document.getElementById('scoreDisplay').textContent = score;
            document.getElementById('streakCount').textContent = streak;
        }

        function updateUserStats() {
            document.getElementById('userCoins').textContent = userCoins;
            document.getElementById('userPoints').textContent = userPoints;
            document.getElementById('shopCoins').textContent = userCoins;
            document.getElementById('gameCoins').textContent = userCoins;
        }

        function skipQuestion() {
            if (confirm('Are you sure you want to skip this question?')) {
                userAnswers[currentQuestionIndex] = -1;
                wrongAnswers++;
                updateStats();
                
                if (currentQuestionIndex < selectedQuestions.length - 1) {
                    currentQuestionIndex++;
                    loadQuestion();
                } else {
                    confirmFinish();
                }
            }
        }

        function showHint() {
            if (!hintsEnabled) {
                showNotification('Hints are disabled', 'warning');
                return;
            }
            
            if (hints <= 0) {
                showNotification('No hints left!', 'warning');
                return;
            }
            
            const question = selectedQuestions[currentQuestionIndex];
            const hintBox = document.getElementById('hintBox');
            const hintText = document.getElementById('hintText');
            
            hintText.textContent = question.hint;
            hintBox.classList.add('active');
            
            hints--;
            score = Math.max(0, score - 2);
            updateStats();
            
            playSound('hint');
        }

        function toggleBookmark() {
            const bookmarkIcon = document.getElementById('bookmarkIcon');
            
            if (bookmarks.includes(currentQuestionIndex)) {
                bookmarks = bookmarks.filter(i => i !== currentQuestionIndex);
                bookmarkIcon.classList.remove('active');
            } else {
                bookmarks.push(currentQuestionIndex);
                bookmarkIcon.classList.add('active');
                playSound('bookmark');
            }
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                if (!isPaused && !timerStopped) {
                    timeLeft--;
                    updateTimerDisplay();
                    
                    if (timeLeft <= 0) {
                        finishQuiz();
                    }
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            document.getElementById('timeDisplay').textContent = display;
            
            const timer = document.getElementById('timer');
            timer.classList.remove('warning', 'danger');
            
            if (timeLeft <= 60) {
                timer.classList.add('danger');
            } else if (timeLeft <= 180) {
                timer.classList.add('warning');
            }
        }

        function pauseTimer() {
            isPaused = !isPaused;
            const pauseIcon = document.getElementById('pauseIcon');
            pauseIcon.className = isPaused ? 'fas fa-play' : 'fas fa-pause';
            
            if (isPaused) {
                showNotification('Quiz paused', 'info');
            } else {
                showNotification('Quiz resumed', 'info');
            }
        }

        function confirmFinish() {
            if (userAnswers[currentQuestionIndex] === undefined) {
                showNotification('Please select an answer!', 'warning');
                return;
            }
            
            document.getElementById('confirmationModal').classList.add('active');
        }

        function cancelFinish() {
            document.getElementById('confirmationModal').classList.remove('active');
        }

        function finishQuiz() {
            document.getElementById('confirmationModal').classList.remove('active');
            
            if (!timerStopped) {
                clearInterval(timerInterval);
                timerStopped = true;
            }
            
            checkAnswer();
            
            const timeTaken = 600 - timeLeft;
            const percentage = Math.round((correctAnswers / selectedQuestions.length) * 100);
            
            // Calculate coins earned
            const coinsEarned = Math.floor(percentage / 10) * 5 + correctAnswers * 2;
            userCoins += coinsEarned;
            
            // Save to leaderboard
            saveToLeaderboard(percentage, timeTaken);
            
            // Update stats
            updateTotalQuizzes();
            updateHighScore();
            updateUserStats();
            saveUserData();
            
            // Show results
            showResults(percentage, timeTaken, coinsEarned);
            
            // Celebration if good score
            if (percentage >= 80) {
                createConfetti();
            }
        }

        function showResults(percentage, timeTaken, coinsEarned) {
            const modal = document.getElementById('resultModal');
            modal.classList.add('active');
            
            document.getElementById('finalScore').textContent = percentage + '%';
            document.getElementById('finalCorrect').textContent = correctAnswers;
            document.getElementById('finalWrong').textContent = wrongAnswers;
            document.getElementById('coinsEarned').textContent = coinsEarned;
            
            const minutes = Math.floor(timeTaken / 60);
            const seconds = timeTaken % 60;
            document.getElementById('timeTaken').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // Calculate rank
            let rank = 'Beginner';
            if (percentage >= 90) rank = 'Expert';
            else if (percentage >= 70) rank = 'Advanced';
            else if (percentage >= 50) rank = 'Intermediate';
            
            // Show achievements
            showAchievements(percentage);
            
            // Draw performance chart
            drawPerformanceChart();
        }

        function showAchievements(percentage) {
            const achievementsDiv = document.getElementById('achievements');
            achievementsDiv.innerHTML = '<h3>ðŸ† Achievements</h3>';
            
            const achievements = [];
            
            if (percentage === 100) achievements.push('ðŸŒŸ Perfect Score');
            if (percentage >= 80) achievements.push('ðŸŽ¯ Excellent Performance');
            if (streak >= 5) achievements.push('ðŸ”¥ Streak Master');
            if (timeLeft > 300) achievements.push('âš¡ Speedy');
            if (correctAnswers === selectedQuestions.length) achievements.push('ðŸ’¯ All Correct');
            
            achievements.forEach(achievement => {
                const badge = document.createElement('span');
                badge.className = 'achievement-badge';
                badge.textContent = achievement;
                achievementsDiv.appendChild(badge);
            });
        }

        function drawPerformanceChart() {
            const chart = document.getElementById('performanceChart');
            chart.innerHTML = '';
            
            selectedQuestions.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.correct;
                const barHeight = isCorrect ? 80 : 20;
                
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.left = (index * 60 + 10) + 'px';
                bar.style.height = barHeight + '%';
                bar.style.background = isCorrect ? 'var(--success)' : 'var(--danger)';
                bar.title = `Question ${index + 1}: ${isCorrect ? 'Correct' : 'Wrong'}`;
                
                chart.appendChild(bar);
            });
        }

        function showSolutions() {
            document.getElementById('resultModal').classList.remove('active');
            document.getElementById('solutionsModal').classList.add('active');
            
            const solutionsList = document.getElementById('solutionsList');
            solutionsList.innerHTML = '';
            
            selectedQuestions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correct;
                
                const solutionDiv = document.createElement('div');
                solutionDiv.style.marginBottom = '20px';
                solutionDiv.style.padding = '15px';
                solutionDiv.style.background = isCorrect ? '#d1fae5' : '#fee2e2';
                solutionDiv.style.borderRadius = '10px';
                
                solutionDiv.innerHTML = `
                    <h4>Question ${index + 1}: ${question.question}</h4>
                    <p><strong>Your Answer:</strong> ${userAnswer >= 0 ? question.options[userAnswer] : 'Skipped'}</p>
                    <p><strong>Correct Answer:</strong> ${question.options[question.correct]}</p>
                    <p><strong>Explanation:</strong> ${question.hint}</p>
                `;
                
                solutionsList.appendChild(solutionDiv);
            });
        }

        function closeSolutions() {
            document.getElementById('solutionsModal').classList.remove('active');
            document.getElementById('resultModal').classList.add('active');
        }

        function restartQuiz() {
            document.getElementById('resultModal').classList.remove('active');
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('quizScreen').style.display = 'none';
            timeLeft = 600;
            updateTimerDisplay();
        }

        function shareResults() {
            const percentage = Math.round((correctAnswers / selectedQuestions.length) * 100);
            const text = `I scored ${percentage}% in Zeeshan Quiz App! ðŸŽ¯\nCorrect: ${correctAnswers}, Wrong: ${wrongAnswers}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Zeeshan Quiz App Results',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text);
                showNotification('Results copied to clipboard!', 'success');
            }
        }

        function printResults() {
            window.print();
        }

        function showLeaderboard() {
            document.getElementById('leaderboardModal').classList.add('active');
            loadLeaderboard();
        }

        function closeLeaderboard() {
            document.getElementById('leaderboardModal').classList.remove('active');
        }

        function loadLeaderboard() {
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');
            const tbody = document.getElementById('leaderboardBody');
            tbody.innerHTML = '';
            
            leaderboard.sort((a, b) => b.score - a.score);
            
            leaderboard.slice(0, 10).forEach((entry, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${entry.name}</td>
                    <td>${entry.score}%</td>
                    <td>${entry.time}</td>
                    <td>${new Date(entry.date).toLocaleDateString()}</td>
                `;
                tbody.appendChild(row);
            });
        }

        function saveToLeaderboard(score, time) {
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');
            
            const name = prompt('Enter your name:') || 'Anonymous';
            
            leaderboard.push({
                name: name,
                score: score,
                time: formatTime(time),
                date: Date.now()
            });
            
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
        }

        function showSettings() {
            document.getElementById('settingsModal').classList.add('active');
        }

        function closeSettings() {
            document.getElementById('settingsModal').classList.remove('active');
        }

        function showHelp() {
            document.getElementById('helpModal').classList.add('active');
        }

        function closeHelp() {
            document.getElementById('helpModal').classList.remove('active');
        }

        function showShop() {
            document.getElementById('shopModal').classList.add('active');
        }

        function closeShop() {
            document.getElementById('shopModal').classList.remove('active');
        }

        function showMiniGamesRecords() {
            document.getElementById('recordsModal').classList.add('active');
            displayMiniGameRecords();
        }

        function closeMiniGamesRecords() {
            document.getElementById('recordsModal').classList.remove('active');
        }

        function buyItem(item) {
            let price = 0;
            let successMessage = '';
            
            switch(item) {
                case 'hint':
                    price = 10;
                    if (userCoins >= price) {
                        userCoins -= price;
                        hints++;
                        successMessage = 'Extra hint purchased!';
                    } else {
                        showNotification('Not enough coins!', 'error');
                        return;
                    }
                    break;
                case 'time':
                    price = 20;
                    if (userCoins >= price) {
                        userCoins -= price;
                        timeLeft += 60;
                        successMessage = 'Time bonus added!';
                    } else {
                        showNotification('Not enough coins!', 'error');
                        return;
                    }
                    break;
                case 'joker':
                    price = 30;
                    if (userCoins >= price) {
                        userCoins -= price;
                        // Implement 50/50 joker logic
                        successMessage = '50/50 joker purchased!';
                    } else {
                        showNotification('Not enough coins!', 'error');
                        return;
                    }
                    break;
                case 'skip':
                    price = 15;
                    if (userCoins >= price) {
                        userCoins -= price;
                        // Implement skip logic
                        successMessage = 'Skip question purchased!';
                    } else {
                        showNotification('Not enough coins!', 'error');
                        return;
                    }
                    break;
            }
            
            updateUserStats();
            saveUserData();
            showNotification(successMessage, 'success');
        }

        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            showNotification(isDark ? 'Dark mode enabled' : 'Light mode enabled', 'info');
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            const icon = document.getElementById('soundIcon');
            icon.className = soundEnabled ? 'fas fa-volume-up' : 'fas fa-volume-mute';
            showNotification(soundEnabled ? 'Sound enabled' : 'Sound disabled', 'info');
        }

        function toggleSoundSetting(element) {
            element.classList.toggle('active');
            soundEnabled = element.classList.contains('active');
        }

        function toggleAnimationSetting(element) {
            element.classList.toggle('active');
            animationEnabled = element.classList.contains('active');
        }

        function toggleAutoNext(element) {
            element.classList.toggle('active');
            autoNext = element.classList.contains('active');
        }

        function toggleHints(element) {
            element.classList.toggle('active');
            hintsEnabled = element.classList.contains('active');
        }

        function toggleKeyboard(element) {
            element.classList.toggle('active');
            keyboardEnabled = element.classList.contains('active');
        }

        function setDifficulty(level) {
            difficulty = level;
            document.querySelectorAll('.difficulty-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Adjust time based on difficulty
            if (level === 'easy') timeLeft = 600;
            else if (level === 'medium') timeLeft = 480;
            else if (level === 'hard') timeLeft = 360;
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function playSound(type) {
            if (!soundEnabled) return;
            
            // Create audio context for sound effects
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            switch(type) {
                case 'correct':
                    oscillator.frequency.value = 523.25; // C5
                    gainNode.gain.value = 0.1;
                    break;
                case 'wrong':
                    oscillator.frequency.value = 261.63; // C4
                    gainNode.gain.value = 0.1;
                    break;
                case 'start':
                    oscillator.frequency.value = 440; // A4
                    gainNode.gain.value = 0.1;
                    break;
                case 'hint':
                    oscillator.frequency.value = 659.25; // E5
                    gainNode.gain.value = 0.05;
                    break;
                case 'bookmark':
                    oscillator.frequency.value = 783.99; // G5
                    gainNode.gain.value = 0.05;
                    break;
            }
            
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 70px;
                right: 20px;
                padding: 15px 20px;
                background: ${type === 'success' ? 'var(--success)' : type === 'warning' ? 'var(--warning)' : type === 'error' ? 'var(--danger)' : 'var(--primary)'};
                color: white;
                border-radius: 10px;
                box-shadow: var(--shadow);
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function showFloatingEmoji(emoji) {
            const floatingEmoji = document.createElement('div');
            floatingEmoji.className = 'floating-emoji';
            floatingEmoji.textContent = emoji;
            floatingEmoji.style.left = Math.random() * window.innerWidth + 'px';
            floatingEmoji.style.bottom = '100px';
            
            document.body.appendChild(floatingEmoji);
            
            setTimeout(() => floatingEmoji.remove(), 3000);
        }

        function createConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 10);
            }
        }

        function animateQuestion() {
            if (!animationEnabled) return;
            
            const questionContainer = document.querySelector('.question-container');
            questionContainer.style.animation = 'none';
            setTimeout(() => {
                questionContainer.style.animation = 'fadeIn 0.5s ease';
            }, 10);
        }

        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) => {
                if (!keyboardEnabled || document.getElementById('quizScreen').style.display === 'none') return;
                
                switch(e.key) {
                    case 'ArrowRight':
                        nextQuestion();
                        break;
                    case 'ArrowLeft':
                        previousQuestion();
                        break;
                    case '1':
                    case '2':
                    case '3':
                    case '4':
                        selectOption(parseInt(e.key) - 1);
                        break;
                    case 'h':
                    case 'H':
                        showHint();
                        break;
                    case 's':
                    case 'S':
                        skipQuestion();
                        break;
                    case ' ':
                        e.preventDefault();
                        pauseTimer();
                        break;
                }
            });
        }

        function loadStats() {
            const stats = JSON.parse(localStorage.getItem('quizStats') || '{}');
            document.getElementById('totalQuizzes').textContent = stats.totalQuizzes || 0;
            document.getElementById('streakCount').textContent = stats.currentStreak || 0;
            
            const coins = parseInt(localStorage.getItem('userCoins') || '100');
            userCoins = coins;
            const points = parseInt(localStorage.getItem('userPoints') || '0');
            userPoints = points;
            
            lastTaxDate = parseInt(localStorage.getItem('lastTaxDate') || new Date().getDate());
        }

        function updateTotalQuizzes() {
            const stats = JSON.parse(localStorage.getItem('quizStats') || '{}');
            stats.totalQuizzes = (stats.totalQuizzes || 0) + 1;
            localStorage.setItem('quizStats', JSON.stringify(stats));
        }

        function updateHighScore() {
            const highScore = localStorage.getItem('highScore') || 0;
            document.getElementById('highScore').textContent = highScore;
        }

        function saveHighScore(score) {
            const currentHigh = parseInt(localStorage.getItem('highScore') || 0);
            if (score > currentHigh) {
                localStorage.setItem('highScore', score);
                showNotification('New high score! ðŸŽ‰', 'success');
            }
        }

        function saveUserData() {
            localStorage.setItem('userCoins', userCoins.toString());
            localStorage.setItem('userPoints', userPoints.toString());
            localStorage.setItem('lastTaxDate', lastTaxDate.toString());
        }

        function applyDailyTax() {
            const today = new Date().getDate();
            
            if (today !== lastTaxDate) {
                const taxAmount = Math.floor(Math.random() * 21) + 30; // Random tax between 30 and 50
                userCoins = Math.max(0, userCoins - taxAmount);
                lastTaxDate = today;
                
                updateUserStats();
                saveUserData();
                
                showNotification(`Daily tax of ${taxAmount} coins has been deducted!`, 'warning');
                
                // Show tax notification
                const taxNotification = document.createElement('div');
                taxNotification.className = 'tax-notification';
                taxNotification.textContent = `Daily tax of ${taxAmount} coins has been deducted!`;
                document.body.appendChild(taxNotification);
                
                setTimeout(() => {
                    taxNotification.style.animation = 'fadeOut 0.5s ease';
                    setTimeout(() => taxNotification.remove(), 500);
                }, 5000);
            }
        }

        function setupCheatDetection() {
            document.addEventListener('click', function(e) {
                // Only count clicks on coins element
                if (e.target.closest('.coins') || e.target.id === 'userCoins' || e.target.id === 'gameCoins') {
                    cheatClicks++;
                    document.getElementById('cheatCount').textContent = cheatClicks;
                    
                    const cheatIndicator = document.getElementById('cheatIndicator');
                    cheatIndicator.classList.add('active');
                    
                    clearTimeout(cheatTimer);
                    cheatTimer = setTimeout(() => {
                        cheatClicks = 0;
                        document.getElementById('cheatCount').textContent = cheatClicks;
                        cheatIndicator.classList.remove('active');
                    }, 3000);
                    
                    if (cheatClicks >= 10) {
                        userCoins += 1000;
                        updateUserStats();
                        saveUserData();
                        showNotification('Cheat activated! +1000 coins!', 'success');
                        cheatClicks = 0;
                        document.getElementById('cheatCount').textContent = cheatClicks;
                        cheatIndicator.classList.remove('active');
                    }
                }
            });
        }

        function loadMiniGameRecords() {
            const records = JSON.parse(localStorage.getItem('miniGameRecords') || '{}');
            miniGameRecords = records;
        }

        function saveMiniGameRecords() {
            localStorage.setItem('miniGameRecords', JSON.stringify(miniGameRecords));
        }

        function addMiniGameRecord(gameName, score) {
            if (!miniGameRecords[gameName]) {
                miniGameRecords[gameName] = [];
            }
            
            miniGameRecords[gameName].push({
                score: score,
                date: Date.now()
            });
            
            // Sort by score (descending) and keep only top 10
            miniGameRecords[gameName].sort((a, b) => b.score - a.score);
            miniGameRecords[gameName] = miniGameRecords[gameName].slice(0, 10);
            
            saveMiniGameRecords();
        }

        function displayMiniGameRecords() {
            const gameNames = [
                'tapBox', 'memoryMatch', 'quickMath', 'reactionTest',
                'numberGuess', 'whackButton', 'spinWheel', 'trueFalse',
                'puzzleSlide', 'colorMatch'
            ];
            
            gameNames.forEach(gameName => {
                const recordsList = document.getElementById(`${gameName}Records`);
                recordsList.innerHTML = '';
                
                if (miniGameRecords[gameName] && miniGameRecords[gameName].length > 0) {
                    miniGameRecords[gameName].forEach((record, index) => {
                        const recordItem = document.createElement('li');
                        recordItem.className = 'record-item';
                        recordItem.innerHTML = `
                            <span class="record-rank">#${index + 1}</span>
                            <span class="record-score">${record.score}</span>
                            <span class="record-date">${new Date(record.date).toLocaleDateString()}</span>
                        `;
                        recordsList.appendChild(recordItem);
                    });
                } else {
                    const recordItem = document.createElement('li');
                    recordItem.className = 'record-item';
                    recordItem.innerHTML = `<span>No records yet</span>`;
                    recordsList.appendChild(recordItem);
                }
            });
        }

        // Mini Games Functions
        function openMiniGame(gameName) {
            currentMiniGame = gameName;
            document.getElementById('mainQuizContainer').style.display = 'none';
            document.getElementById('appHeader').style.display = 'none';
            document.getElementById('controlsPanel').style.display = 'none';
            document.getElementById('miniGameScreen').style.display = 'flex';
            
            const gameTitle = document.getElementById('miniGameTitle');
            const gameContent = document.getElementById('miniGameContent');
            
            switch(gameName) {
                case 'tapBox':
                    gameTitle.textContent = 'Tap the Box';
                    gameContent.innerHTML = `
                        <div class="game-score">Score: <span id="tapBoxScore">0</span></div>
                        <div class="game-timer">Time: <span id="tapBoxTimer">30</span>s</div>
                        <div class="tap-box-game" id="tapBoxGame">
                            <!-- Boxes will be generated here -->
                        </div>
                        <button class="btn btn-primary" onclick="startTapBoxGame()">Start Game</button>
                    `;
                    break;
                case 'memoryMatch':
                    gameTitle.textContent = 'Memory Match';
                    gameContent.innerHTML = `
                        <div class="game-score">Moves: <span id="memoryMatchMoves">0</span></div>
                        <div class="game-timer">Time: <span id="memoryMatchTimer">0</span>s</div>
                        <div class="memory-game" id="memoryGame">
                            <!-- Cards will be generated here -->
                        </div>
                        <button class="btn btn-primary" onclick="startMemoryMatchGame()">Start Game</button>
                    `;
                    break;
                case 'quickMath':
                    gameTitle.textContent = 'Quick Math Rush';
                    gameContent.innerHTML = `
                        <div class="game-score">Score: <span id="quickMathScore">0</span></div>
                        <div class="game-timer">Time: <span id="quickMathTimer">30</span>s</div>
                        <div class="quick-math-game">
                            <div class="math-question" id="mathQuestion">Press Start to begin</div>
                            <input type="number" class="math-input" id="mathAnswer" placeholder="Your answer">
                            <button class="btn btn-primary" onclick="checkMathAnswer()">Submit</button>
                        </div>
                        <button class="btn btn-primary" onclick="startQuickMathGame()">Start Game</button>
                    `;
                    break;
                case 'reactionTest':
                    gameTitle.textContent = 'Reaction Test';
                    gameContent.innerHTML = `
                        <div class="game-score">Best Time: <span id="reactionBestTime">--</span>ms</div>
                        <div class="reaction-game">
                            <p>Click the target as fast as you can when it appears!</p>
                            <div class="reaction-target" id="reactionTarget" onclick="recordReaction()"></div>
                            <button class="btn btn-primary" onclick="startReactionGame()">Start Game</button>
                        </div>
                    `;
                    break;
                case 'numberGuess':
                    gameTitle.textContent = 'Number Guessing Game';
                    gameContent.innerHTML = `
                        <div class="game-score">Attempts: <span id="numberGuessAttempts">0</span>/10</div>
                        <div class="number-guess-game">
                            <p>Guess the number between 1 and 100!</p>
                            <input type="number" class="guess-input" id="guessInput" placeholder="Your guess" min="1" max="100">
                            <button class="btn btn-primary" onclick="checkGuess()">Guess</button>
                            <div class="guess-result" id="guessResult"></div>
                        </div>
                        <button class="btn btn-primary" onclick="startNumberGuessGame()">New Game</button>
                    `;
                    break;
                case 'whackButton':
                    gameTitle.textContent = 'Whack-a-Button';
                    gameContent.innerHTML = `
                        <div class="game-score">Score: <span id="whackButtonScore">0</span></div>
                        <div class="game-timer">Time: <span id="whackButtonTimer">30</span>s</div>
                        <div class="whack-button-game" id="whackButtonGame">
                            <!-- Buttons will be generated here -->
                        </div>
                        <button class="btn btn-primary" onclick="startWhackButtonGame()">Start Game</button>
                    `;
                    break;
                case 'spinWheel':
                    gameTitle.textContent = 'Spin the Wheel';
                    gameContent.innerHTML = `
                        <div class="game-score">Coins: <span id="spinWheelCoins">0</span></div>
                        <div class="spin-wheel-game">
                            <div class="wheel-container">
                                <div class="wheel-pointer"></div>
                                <div class="wheel" id="wheel"></div>
                            </div>
                            <div class="wheel-result" id="wheelResult">Click Spin to try your luck!</div>
                        </div>
                        <button class="btn btn-primary" onclick="spinWheel()">Spin</button>
                    `;
                    break;
                case 'trueFalse':
                    gameTitle.textContent = 'True or False Blitz';
                    gameContent.innerHTML = `
                        <div class="game-score">Score: <span id="trueFalseScore">0</span></div>
                        <div class="game-timer">Time: <span id="trueFalseTimer">30</span>s</div>
                        <div class="true-false-game">
                            <div class="true-false-question" id="trueFalseQuestion">Press Start to begin</div>
                            <div class="true-false-buttons">
                                <button class="true-false-btn true-btn" onclick="answerTrueFalse(true)">True</button>
                                <button class="true-false-btn false-btn" onclick="answerTrueFalse(false)">False</button>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="startTrueFalseGame()">Start Game</button>
                    `;
                    break;
                case 'puzzleSlide':
                    gameTitle.textContent = 'Puzzle Slide (15-Puzzle)';
                    gameContent.innerHTML = `
                        <div class="game-score">Moves: <span id="puzzleSlideMoves">0</span></div>
                        <div class="game-timer">Time: <span id="puzzleSlideTimer">0</span>s</div>
                        <div class="puzzle-slide-game">
                            <div class="puzzle-grid" id="puzzleGrid">
                                <!-- Tiles will be generated here -->
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="startPuzzleSlideGame()">New Game</button>
                    `;
                    break;
                case 'colorMatch':
                    gameTitle.textContent = 'Color Match Challenge';
                    gameContent.innerHTML = `
                        <div class="game-score">Score: <span id="colorMatchScore">0</span></div>
                        <div class="game-timer">Time: <span id="colorMatchTimer">30</span>s</div>
                        <div class="color-match-game">
                            <div class="color-word" id="colorWord">Press Start to begin</div>
                            <div class="color-buttons" id="colorButtons">
                                <!-- Color buttons will be generated here -->
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="startColorMatchGame()">Start Game</button>
                    `;
                    break;
            }
        }

        // Tap the Box Game
        let tapBoxGameInterval;
        let tapBoxScore = 0;
        let tapBoxTimeLeft = 30;

        function startTapBoxGame() {
            tapBoxScore = 0;
            tapBoxTimeLeft = 30;
            document.getElementById('tapBoxScore').textContent = tapBoxScore;
            document.getElementById('tapBoxTimer').textContent = tapBoxTimeLeft;
            
            const gameArea = document.getElementById('tapBoxGame');
            gameArea.innerHTML = '';
            
            tapBoxGameInterval = setInterval(() => {
                if (tapBoxTimeLeft <= 0) {
                    endTapBoxGame();
                    return;
                }
                
                tapBoxTimeLeft--;
                document.getElementById('tapBoxTimer').textContent = tapBoxTimeLeft;
                
                // Create a new box
                const box = document.createElement('div');
                box.className = 'tap-box';
                box.style.left = Math.random() * (gameArea.offsetWidth - 80) + 'px';
                box.style.top = Math.random() * (gameArea.offsetHeight - 80) + 'px';
                box.onclick = function() {
                    this.classList.add('clicked');
                    tapBoxScore++;
                    document.getElementById('tapBoxScore').textContent = tapBoxScore;
                    setTimeout(() => this.remove(), 300);
                };
                
                gameArea.appendChild(box);
                
                // Remove box after 2 seconds if not clicked
                setTimeout(() => {
                    if (box.parentNode) {
                        box.remove();
                    }
                }, 2000);
            }, 800);
        }

        function endTapBoxGame() {
            clearInterval(tapBoxGameInterval);
            
            userCoins += 20;
            updateUserStats();
            saveUserData();
            
            addMiniGameRecord('tapBox', tapBoxScore);
            
            document.getElementById('tapBoxGame').innerHTML = `
                <div class="game-over">Game Over!</div>
                <p>Your score: ${tapBoxScore}</p>
                <p>You earned 20 coins!</p>
            `;
        }

        // Memory Match Game
        let memoryMatchCards = [];
        let memoryMatchFlippedCards = [];
        let memoryMatchMoves = 0;
        let memoryMatchTime = 0;
        let memoryMatchTimer;
        let memoryMatchPairsFound = 0;

        function startMemoryMatchGame() {
            memoryMatchMoves = 0;
            memoryMatchTime = 0;
            memoryMatchPairsFound = 0;
            document.getElementById('memoryMatchMoves').textContent = memoryMatchMoves;
            document.getElementById('memoryMatchTimer').textContent = memoryMatchTime;
            
            const emojis = ['ðŸŽ', 'ðŸŒ', 'ðŸ‡', 'ðŸ“', 'ðŸ’', 'ðŸ‘', 'ðŸ‰', 'ðŸ¥'];
            memoryMatchCards = [...emojis, ...emojis];
            
            // Shuffle cards
            for (let i = memoryMatchCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [memoryMatchCards[i], memoryMatchCards[j]] = [memoryMatchCards[j], memoryMatchCards[i]];
            }
            
            const gameArea = document.getElementById('memoryGame');
            gameArea.innerHTML = '';
            
            memoryMatchCards.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.emoji = emoji;
                card.dataset.index = index;
                card.textContent = '?';
                
                card.addEventListener('click', function() {
                    if (memoryMatchFlippedCards.length < 2 && !this.classList.contains('flipped')) {
                        this.classList.add('flipped');
                        this.textContent = this.dataset.emoji;
                        memoryMatchFlippedCards.push(this);
                        
                        if (memoryMatchFlippedCards.length === 2) {
                            memoryMatchMoves++;
                            document.getElementById('memoryMatchMoves').textContent = memoryMatchMoves;
                            
                            setTimeout(() => {
                                if (memoryMatchFlippedCards[0].dataset.emoji === memoryMatchFlippedCards[1].dataset.emoji) {
                                    memoryMatchPairsFound++;
                                    if (memoryMatchPairsFound === emojis.length) {
                                        endMemoryMatchGame();
                                    }
                                } else {
                                    memoryMatchFlippedCards.forEach(card => {
                                        card.classList.remove('flipped');
                                        card.textContent = '?';
                                    });
                                }
                                memoryMatchFlippedCards = [];
                            }, 1000);
                        }
                    }
                });
                
                gameArea.appendChild(card);
            });
            
            memoryMatchTimer = setInterval(() => {
                memoryMatchTime++;
                document.getElementById('memoryMatchTimer').textContent = memoryMatchTime;
            }, 1000);
        }

        function endMemoryMatchGame() {
            clearInterval(memoryMatchTimer);
            
            userCoins += 25;
            updateUserStats();
            saveUserData();
            
            addMiniGameRecord('memoryMatch', memoryMatchMoves);
            
            document.getElementById('memoryGame').innerHTML = `
                <div class="game-over">Game Over!</div>
                <p>You found all pairs in ${memoryMatchMoves} moves and ${memoryMatchTime} seconds!</p>
                <p>You earned 25 coins!</p>
            `;
        }

        // Quick Math Game
        let quickMathScore = 0;
        let quickMathTimeLeft = 30;
        let quickMathGameInterval;
        let quickMathCurrentAnswer;

        function startQuickMathGame() {
            quickMathScore = 0;
            quickMathTimeLeft = 30;
            document.getElementById('quickMathScore').textContent = quickMathScore;
            document.getElementById('quickMathTimer').textContent = quickMathTimeLeft;
            
            generateMathQuestion();
            
            quickMathGameInterval = setInterval(() => {
                if (quickMathTimeLeft <= 0) {
                    endQuickMathGame();
                    return;
                }
                
                quickMathTimeLeft--;
                document.getElementById('quickMathTimer').textContent = quickMathTimeLeft;
            }, 1000);
        }

        function generateMathQuestion() {
            const a = Math.floor(Math.random() * 20) + 1;
            const b = Math.floor(Math.random() * 20) + 1;
            const operations = ['+', '-', '*'];
            const operation = operations[Math.floor(Math.random() * operations.length)];
            
            let answer;
            switch(operation) {
                case '+':
                    answer = a + b;
                    break;
                case '-':
                    answer = a - b;
                    break;
                case '*':
                    answer = a * b;
                    break;
            }
            
            quickMathCurrentAnswer = answer;
            document.getElementById('mathQuestion').textContent = `${a} ${operation} ${b} = ?`;
            document.getElementById('mathAnswer').value = '';
            document.getElementById('mathAnswer').focus();
        }

        function checkMathAnswer() {
            const userAnswer = parseInt(document.getElementById('mathAnswer').value);
            
            if (userAnswer === quickMathCurrentAnswer) {
                quickMathScore++;
                document.getElementById('quickMathScore').textContent = quickMathScore;
                generateMathQuestion();
            } else {
                showNotification('Wrong answer! Try again.', 'warning');
            }
        }

        function endQuickMathGame() {
            clearInterval(quickMathGameInterval);
            
            userCoins += 30;
            updateUserStats();
            saveUserData();
            
            addMiniGameRecord('quickMath', quickMathScore);
            
            document.getElementById('mathQuestion').textContent = 'Game Over!';
            document.getElementById('mathAnswer').style.display = 'none';
            
            const gameArea = document.querySelector('.quick-math-game');
            const resultDiv = document.createElement('div');
            resultDiv.className = 'game-over';
            resultDiv.innerHTML = `
                <p>Your score: ${quickMathScore}</p>
                <p>You earned 30 coins!</p>
            `;
            gameArea.appendChild(resultDiv);
        }

        // Reaction Test Game
        let reactionGameStartTime;
        let reactionGameTimeout;
        let reactionBestTime = null;

        function startReactionGame() {
            const target = document.getElementById('reactionTarget');
            target.classList.remove('active');
            
            const delay = Math.random() * 3000 + 2000; // 2-5 seconds
            
            reactionGameTimeout = setTimeout(() => {
                target.classList.add('active');
                reactionGameStartTime = Date.now();
            }, delay);
        }

        function recordReaction() {
            const target = document.getElementById('reactionTarget');
            const reactionTime = Date.now() - reactionGameStartTime;
            
            target.classList.remove('active');
            
            if (reactionBestTime === null || reactionTime < reactionBestTime) {
                reactionBestTime = reactionTime;
                document.getElementById('reactionBestTime').textContent = reactionBestTime;
            }
            
            if (reactionTime < 500) {
                userCoins += 15;
                updateUserStats();
                saveUserData();
                
                addMiniGameRecord('reactionTest', reactionTime);
                
                showNotification(`Great reaction time! +15 coins`, 'success');
            } else {
                showNotification(`Reaction time: ${reactionTime}ms`, 'info');
            }
        }

        // Number Guessing Game
        let numberGuessTarget;
        let numberGuessAttempts;

        function startNumberGuessGame() {
            numberGuessTarget = Math.floor(Math.random() * 100) + 1;
            numberGuessAttempts = 0;
            document.getElementById('numberGuessAttempts').textContent = numberGuessAttempts;
            document.getElementById('guessResult').textContent = '';
            document.getElementById('guessInput').value = '';
        }

        function checkGuess() {
            const guess = parseInt(document.getElementById('guessInput').value);
            
            if (isNaN(guess) || guess < 1 || guess > 100) {
                showNotification('Please enter a number between 1 and 100!', 'warning');
                return;
            }
            
            numberGuessAttempts++;
            document.getElementById('numberGuessAttempts').textContent = numberGuessAttempts;
            
            if (guess === numberGuessTarget) {
                userCoins += 20;
                updateUserStats();
                saveUserData();
                
                addMiniGameRecord('numberGuess', numberGuessAttempts);
                
                document.getElementById('guessResult').innerHTML = `
                    <div class="game-over">Correct!</div>
                    <p>You guessed the number in ${numberGuessAttempts} attempts!</p>
                    <p>You earned 20 coins!</p>
                `;
            } else if (guess < numberGuessTarget) {
                document.getElementById('guessResult').textContent = 'Too low! Try a higher number.';
            } else {
                document.getElementById('guessResult').textContent = 'Too high! Try a lower number.';
            }
            
            if (numberGuessAttempts >= 10 && guess !== numberGuessTarget) {
                document.getElementById('guessResult').innerHTML = `
                    <div class="game-over">Game Over!</div>
                    <p>The number was ${numberGuessTarget}.</p>
                `;
            }
            
            document.getElementById('guessInput').value = '';
            document.getElementById('guessInput').focus();
        }

        // Whack-a-Button Game
        let whackButtonGameInterval;
        let whackButtonScore = 0;
        let whackButtonTimeLeft = 30;
        let whackButtonTargetButton;

        function startWhackButtonGame() {
            whackButtonScore = 0;
            whackButtonTimeLeft = 30;
            document.getElementById('whackButtonScore').textContent = whackButtonScore;
            document.getElementById('whackButtonTimer').textContent = whackButtonTimeLeft;
            
            const gameArea = document.getElementById('whackButtonGame');
            gameArea.innerHTML = '';
            
            whackButtonGameInterval = setInterval(() => {
                if (whackButtonTimeLeft <= 0) {
                    endWhackButtonGame();
                    return;
                }
                
                whackButtonTimeLeft--;
                document.getElementById('whackButtonTimer').textContent = whackButtonTimeLeft;
                
                // Remove previous button
                if (whackButtonTargetButton) {
                    whackButtonTargetButton.remove();
                }
                
                // Create a new button
                const button = document.createElement('div');
                button.className = 'whack-button';
                button.style.left = Math.random() * (gameArea.offsetWidth - 80) + 'px';
                button.style.top = Math.random() * (gameArea.offsetHeight - 80) + 'px';
                
                // Randomly decide if this is the correct button
                const isCorrect = Math.random() > 0.3; // 70% chance of being correct
                
                if (isCorrect) {
                    button.classList.add('correct');
                    button.onclick = function() {
                        whackButtonScore++;
                        document.getElementById('whackButtonScore').textContent = whackButtonScore;
                        this.remove();
                        whackButtonTargetButton = null;
                    };
                } else {
                    button.classList.add('wrong');
                    button.onclick = function() {
                        whackButtonScore = Math.max(0, whackButtonScore - 1);
                        document.getElementById('whackButtonScore').textContent = whackButtonScore;
                        this.remove();
                        whackButtonTargetButton = null;
                    };
                }
                
                gameArea.appendChild(button);
                whackButtonTargetButton = button;
                
                // Remove button after 1.5 seconds if not clicked
                setTimeout(() => {
                    if (button.parentNode) {
                        button.remove();
                        if (button === whackButtonTargetButton) {
                            whackButtonTargetButton = null;
                        }
                    }
                }, 1500);
            }, 1000);
        }

        function endWhackButtonGame() {
            clearInterval(whackButtonGameInterval);
            
            userCoins += 25;
            updateUserStats();
            saveUserData();
            
            addMiniGameRecord('whackButton', whackButtonScore);
            
            document.getElementById('whackButtonGame').innerHTML = `
                <div class="game-over">Game Over!</div>
                <p>Your score: ${whackButtonScore}</p>
                <p>You earned 25 coins!</p>
            `;
        }

        // Spin the Wheel Game
        let wheelSpinning = false;

        function spinWheel() {
            if (wheelSpinning) return;
            
            wheelSpinning = true;
            const wheel = document.getElementById('wheel');
            const result = document.getElementById('wheelResult');
            
            // Calculate random spin
            const spins = Math.floor(Math.random() * 5) + 5; // 5-10 full rotations
            const finalAngle = Math.floor(Math.random() * 360);
            const totalRotation = spins * 360 + finalAngle;
            
            wheel.style.transform = `rotate(${totalRotation}deg)`;
            
            // Determine result based on final angle
            let reward;
            if (finalAngle < 90) {
                reward = { type: 'coins', value: 50 };
            } else if (finalAngle < 180) {
                reward = { type: 'coins', value: 100 };
            } else if (finalAngle < 270) {
                reward = { type: 'time', value: 30 };
            } else {
                reward = { type: 'coins', value: 200 };
            }
            
            setTimeout(() => {
                wheelSpinning = false;
                
                if (reward.type === 'coins') {
                    userCoins += reward.value;
                    updateUserStats();
                    saveUserData();
                    
                    result.textContent = `You won ${reward.value} coins!`;
                    showNotification(`You won ${reward.value} coins!`, 'success');
                } else {
                    result.textContent = `You won ${reward.value} seconds of bonus time!`;
                    showNotification(`You won ${reward.value} seconds of bonus time!`, 'success');
                }
                
                addMiniGameRecord('spinWheel', reward.value);
            }, 3000);
        }

        // True or False Game
        let trueFalseScore = 0;
        let trueFalseTimeLeft = 30;
        let trueFalseGameInterval;
        let trueFalseCurrentAnswer;

        function startTrueFalseGame() {
            trueFalseScore = 0;
            trueFalseTimeLeft = 30;
            document.getElementById('trueFalseScore').textContent = trueFalseScore;
            document.getElementById('trueFalseTimer').textContent = trueFalseTimeLeft;
            
            generateTrueFalseQuestion();
            
            trueFalseGameInterval = setInterval(() => {
                if (trueFalseTimeLeft <= 0) {
                    endTrueFalseGame();
                    return;
                }
                
                trueFalseTimeLeft--;
                document.getElementById('trueFalseTimer').textContent = trueFalseTimeLeft;
            }, 1000);
        }

        function generateTrueFalseQuestion() {
            const statements = [
                { text: "The Earth is flat.", answer: false },
                { text: "The sun rises in the east.", answer: true },
                { text: "Water boils at 100Â°C at sea level.", answer: true },
                { text: "The Great Wall of China is visible from space.", answer: false },
                { text: "A year has 365 days.", answer: true },
                { text: "The capital of France is London.", answer: false },
                { text: "Octopuses have three hearts.", answer: true },
                { text: "Humans have four senses.", answer: false },
                { text: "The Atlantic Ocean is the largest ocean.", answer: false },
                { text: "Mount Everest is the tallest mountain on Earth.", answer: true },
                { text: "The human body is made up of 70% water.", answer: true },
                { text: "A spider has eight legs.", answer: true },
                { text: "The currency of Japan is the Yuan.", answer: false },
                { text: "The moon is made of cheese.", answer: false },
                { text: "Light travels faster than sound.", answer: true }
            ];
            
            const statement = statements[Math.floor(Math.random() * statements.length)];
            trueFalseCurrentAnswer = statement.answer;
            document.getElementById('trueFalseQuestion').textContent = statement.text;
        }

        function answerTrueFalse(answer) {
            if (answer === trueFalseCurrentAnswer) {
                trueFalseScore++;
                document.getElementById('trueFalseScore').textContent = trueFalseScore;
                generateTrueFalseQuestion();
            } else {
                showNotification('Wrong answer! Try again.', 'warning');
            }
        }

        function endTrueFalseGame() {
            clearInterval(trueFalseGameInterval);
            
            userCoins += 20;
            updateUserStats();
            saveUserData();
            
            addMiniGameRecord('trueFalse', trueFalseScore);
            
            document.getElementById('trueFalseQuestion').textContent = 'Game Over!';
            document.querySelector('.true-false-buttons').style.display = 'none';
            
            const gameArea = document.querySelector('.true-false-game');
            const resultDiv = document.createElement('div');
            resultDiv.className = 'game-over';
            resultDiv.innerHTML = `
                <p>Your score: ${trueFalseScore}</p>
                <p>You earned 20 coins!</p>
            `;
            gameArea.appendChild(resultDiv);
        }

        // Puzzle Slide Game
        let puzzleSlideTiles = [];
        let puzzleSlideMoves = 0;
        let puzzleSlideTime = 0;
        let puzzleSlideTimer;
        let puzzleSlideEmptyIndex = 15;

        function startPuzzleSlideGame() {
            puzzleSlideMoves = 0;
            puzzleSlideTime = 0;
            document.getElementById('puzzleSlideMoves').textContent = puzzleSlideMoves;
            document.getElementById('puzzleSlideTimer').textContent = puzzleSlideTime;
            
            // Initialize tiles
            puzzleSlideTiles = [];
            for (let i = 1; i <= 15; i++) {
                puzzleSlideTiles.push(i);
            }
            puzzleSlideTiles.push(null); // Empty tile
            
            // Shuffle tiles
            for (let i = 0; i < 100; i++) {
                const emptyIndex = puzzleSlideTiles.indexOf(null);
                const possibleMoves = [];
                
                if (emptyIndex % 4 !== 0) possibleMoves.push(emptyIndex - 1); // Left
                if (emptyIndex % 4 !== 3) possibleMoves.push(emptyIndex + 1); // Right
                if (emptyIndex >= 4) possibleMoves.push(emptyIndex - 4); // Up
                if (emptyIndex < 12) possibleMoves.push(emptyIndex + 4); // Down
                
                const randomMove = possibleMoves[Math.floor(Math.random() * possibleMoves.length)];
                [puzzleSlideTiles[emptyIndex], puzzleSlideTiles[randomMove]] = [puzzleSlideTiles[randomMove], puzzleSlideTiles[emptyIndex]];
            }
            
            puzzleSlideEmptyIndex = puzzleSlideTiles.indexOf(null);
            
            renderPuzzleSlide();
            
            puzzleSlideTimer = setInterval(() => {
                puzzleSlideTime++;
                document.getElementById('puzzleSlideTimer').textContent = puzzleSlideTime;
            }, 1000);
        }

        function renderPuzzleSlide() {
            const grid = document.getElementById('puzzleGrid');
            grid.innerHTML = '';
            
            puzzleSlideTiles.forEach((tile, index) => {
                const tileDiv = document.createElement('div');
                tileDiv.className = 'puzzle-tile';
                
                if (tile === null) {
                    tileDiv.classList.add('empty');
                } else {
                    tileDiv.textContent = tile;
                    tileDiv.onclick = () => movePuzzleSlideTile(index);
                }
                
                grid.appendChild(tileDiv);
            });
        }

        function movePuzzleSlideTile(index) {
            // Check if the tile is adjacent to the empty space
            const emptyIndex = puzzleSlideTiles.indexOf(null);
            const rowDiff = Math.floor(index / 4) - Math.floor(emptyIndex / 4);
            const colDiff = (index % 4) - (emptyIndex % 4);
            
            if ((Math.abs(rowDiff) === 1 && colDiff === 0) || (rowDiff === 0 && Math.abs(colDiff) === 1)) {
                // Swap tiles
                [puzzleSlideTiles[index], puzzleSlideTiles[emptyIndex]] = [puzzleSlideTiles[emptyIndex], puzzleSlideTiles[index]];
                puzzleSlideEmptyIndex = index;
                
                puzzleSlideMoves++;
                document.getElementById('puzzleSlideMoves').textContent = puzzleSlideMoves;
                
                renderPuzzleSlide();
                
                // Check if puzzle is solved
                let isSolved = true;
                for (let i = 0; i < 15; i++) {
                    if (puzzleSlideTiles[i] !== i + 1) {
                        isSolved = false;
                        break;
                    }
                }
                
                if (isSolved) {
                    endPuzzleSlideGame();
                }
            }
        }

        function endPuzzleSlideGame() {
            clearInterval(puzzleSlideTimer);
            
            userCoins += 30;
            updateUserStats();
            saveUserData();
            
            addMiniGameRecord('puzzleSlide', puzzleSlideMoves);
            
            const grid = document.getElementById('puzzleGrid');
            grid.innerHTML = `
                <div class="game-over">Puzzle Solved!</div>
                <p>You solved it in ${puzzleSlideMoves} moves and ${puzzleSlideTime} seconds!</p>
                <p>You earned 30 coins!</p>
            `;
        }

        // Color Match Game
        let colorMatchScore = 0;
        let colorMatchTimeLeft = 30;
        let colorMatchGameInterval;
        let colorMatchCurrentColor;

        function startColorMatchGame() {
            colorMatchScore = 0;
            colorMatchTimeLeft = 30;
            document.getElementById('colorMatchScore').textContent = colorMatchScore;
            document.getElementById('colorMatchTimer').textContent = colorMatchTimeLeft;
            
            // Create color buttons
            const colors = [
                { name: 'Red', value: '#ef4444' },
                { name: 'Blue', value: '#3b82f6' },
                { name: 'Green', value: '#10b981' },
                { name: 'Yellow', value: '#f59e0b' },
                { name: 'Purple', value: '#8b5cf6' }
            ];
            
            const buttonsContainer = document.getElementById('colorButtons');
            buttonsContainer.innerHTML = '';
            
            colors.forEach(color => {
                const button = document.createElement('button');
                button.className = 'color-btn';
                button.style.backgroundColor = color.value;
                button.textContent = color.name;
                button.onclick = () => checkColorMatch(color.value);
                buttonsContainer.appendChild(button);
            });
            
            generateColorMatchChallenge();
            
            colorMatchGameInterval = setInterval(() => {
                if (colorMatchTimeLeft <= 0) {
                    endColorMatchGame();
                    return;
                }
                
                colorMatchTimeLeft--;
                document.getElementById('colorMatchTimer').textContent = colorMatchTimeLeft;
            }, 1000);
        }

        function generateColorMatchChallenge() {
            const colors = [
                { name: 'Red', value: '#ef4444' },
                { name: 'Blue', value: '#3b82f6' },
                { name: 'Green', value: '#10b981' },
                { name: 'Yellow', value: '#f59e0b' },
                { name: 'Purple', value: '#8b5cf6' }
            ];
            
            const wordColor = colors[Math.floor(Math.random() * colors.length)];
            const textColor = colors[Math.floor(Math.random() * colors.length)];
            
            colorMatchCurrentColor = textColor.value;
            
            const wordElement = document.getElementById('colorWord');
            wordElement.textContent = wordColor.name;
            wordElement.style.color = textColor.value;
        }

        function checkColorMatch(color) {
            if (color === colorMatchCurrentColor) {
                colorMatchScore++;
                document.getElementById('colorMatchScore').textContent = colorMatchScore;
                generateColorMatchChallenge();
            } else {
                showNotification('Wrong color! Try again.', 'warning');
            }
        }

        function endColorMatchGame() {
            clearInterval(colorMatchGameInterval);
            
            userCoins += 15;
            updateUserStats();
            saveUserData();
            
            addMiniGameRecord('colorMatch', colorMatchScore);
            
            document.getElementById('colorWord').textContent = 'Game Over!';
            document.getElementById('colorButtons').innerHTML = '';
            
            const gameArea = document.querySelector('.color-match-game');
            const resultDiv = document.createElement('div');
            resultDiv.className = 'game-over';
            resultDiv.innerHTML = `
                <p>Your score: ${colorMatchScore}</p>
                <p>You earned 15 coins!</p>
            `;
            gameArea.appendChild(resultDiv);
        }

        // Prevent copy-paste
        document.addEventListener('copy', (e) => {
            e.preventDefault();
            showNotification('Copy is not allowed!', 'warning');
            return false;
        });

        document.addEventListener('paste', (e) => {
            e.preventDefault();
            showNotification('Paste is not allowed!', 'warning');
            return false;
        });

        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });

        // Initialize dark mode if saved
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }

        // Save user data on page unload
        window.addEventListener('beforeunload', () => {
            saveUserData();
        });
    </script>
</body>
</html>